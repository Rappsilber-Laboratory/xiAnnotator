package org.rappsilber;

import javax.ws.rs.client.Client;
import javax.ws.rs.client.ClientBuilder;
import javax.ws.rs.client.Entity;
import javax.ws.rs.client.WebTarget;
import javax.ws.rs.core.MediaType;

import org.glassfish.grizzly.http.server.HttpServer;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class xiAnnotatorTestPost {

    private HttpServer server;
    private WebTarget target;

    @Before
    public void setUp() throws Exception {
        // start the server
        server = Main.startServer();
        // create the client
        Client c = ClientBuilder.newClient();

        // uncomment the following line if you want to enable
        // support for JSON in the client (you also have to uncomment
        // dependency on jersey-media-json module in pom.xml and Main.startServer())
        // --
        // c.configuration().enable(new org.glassfish.jersey.media.json.JsonJaxbFeature());

        target = c.target(Main.BASE_URI);
    }

    @After
    public void tearDown() throws Exception {
        server.stop();
    }

    /**
     * Test to see that the message "Got it!" is sent in the response.
     */
    @Test
    public void testGetIt() {
/*        String responseMsg = target.path("annotate/3413/68913-53595-83402-24933/210231825/")
                .queryParam("peptide","TVTAMDVVYALK","TLYGFGG")
                .queryParam("link","4","6")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3421/85160-94827-96653-69142/210313888/") 
                .queryParam("peptide","LVRPEVDVMCcmTAFHDNEETFLKK","YKAAFTECcmCcmQAADK")
                .queryParam("link","21","1")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3421/85160-94827-96653-69142/210312725/") 
                .queryParam("peptide","VHTECcmCcmHGDLLECcmADDRADLAK")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3947/30582-35562-38444-85066/227540102/") 
                .queryParam("peptide","GSSHHHHHHSSGLVPR","XdLFSK")
                .queryParam("link","4","1")
                .queryParam("firstresidue","0")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
*///        http://129.215.14.63/xiAnnotator/annotate/3943/21672-50578-53639-62223/227500098/?peptide=GSSHHHHHHSSGLVPR&peptide=XdLFSK&link=4&link=1
        //String json = "{\"Peptides\":[{\"sequence\":[{\"aminoAcid\":\"K\",\"Modification\":\"\"},{\"aminoAcid\":\"Q\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"Q\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"G\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]},{\"sequence\":[{\"aminoAcid\":\"M\",\"Modification\":\"ox\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]}],\"LinkSite\":[{\"id\":0,\"peptideId\":0,\"linkSite\":11},{\"id\":0,\"peptideId\":1,\"linkSite\":0}],\"peaks\":[{\"mz\":192.96811,\"intensity\":67.73983},{\"mz\":244.1642,\"intensity\":110.8582},{\"mz\":261.15775,\"intensity\":129.5965},{\"mz\":275.59494,\"intensity\":80.46323},{\"mz\":314.6499,\"intensity\":73.12415},{\"mz\":318.53464,\"intensity\":74.77551},{\"mz\":332.19034,\"intensity\":129.8459},{\"mz\":352.76807,\"intensity\":80.8383},{\"mz\":368.19485,\"intensity\":161.2779},{\"mz\":369.15225,\"intensity\":70.75565},{\"mz\":391.24362,\"intensity\":87.39551},{\"mz\":407.71011,\"intensity\":765.3865},{\"mz\":408.21057,\"intensity\":168.6249},{\"mz\":429.08914,\"intensity\":1021.067},{\"mz\":439.22614,\"intensity\":1080.865},{\"mz\":439.72787,\"intensity\":146.117},{\"mz\":446.2355,\"intensity\":1156.349},{\"mz\":447.24475,\"intensity\":107.6111},{\"mz\":473.73792,\"intensity\":582.5543},{\"mz\":474.23178,\"intensity\":151.0379},{\"mz\":479.22253,\"intensity\":89.13316},{\"mz\":482.74237,\"intensity\":1837.839},{\"mz\":483.24542,\"intensity\":517.5132},{\"mz\":485.22946,\"intensity\":160.8755},{\"mz\":494.23871,\"intensity\":117.7743},{\"mz\":504.73248,\"intensity\":104.7452},{\"mz\":514.25714,\"intensity\":168.123},{\"mz\":519.32617,\"intensity\":84.28606},{\"mz\":530.75781,\"intensity\":348.261},{\"mz\":531.25165,\"intensity\":574.6472},{\"mz\":531.75232,\"intensity\":195.0436},{\"mz\":532.28021,\"intensity\":122.7291},{\"mz\":539.76459,\"intensity\":461.346},{\"mz\":540.26691,\"intensity\":216.6365},{\"mz\":542.25702,\"intensity\":383.6699},{\"mz\":542.74811,\"intensity\":144.7962},{\"mz\":551.26862,\"intensity\":138.4185},{\"mz\":556.75995,\"intensity\":131.5791},{\"mz\":557.25281,\"intensity\":154.4313},{\"mz\":565.75897,\"intensity\":124.528},{\"mz\":566.2757,\"intensity\":105.5735},{\"mz\":567.77228,\"intensity\":99.65214},{\"mz\":574.27252,\"intensity\":177.6217},{\"mz\":574.77173,\"intensity\":304.3945},{\"mz\":576.76465,\"intensity\":337.0186},{\"mz\":577.26617,\"intensity\":151.8026},{\"mz\":583.28101,\"intensity\":403.2102},{\"mz\":583.77972,\"intensity\":189.2003},{\"mz\":584.76569,\"intensity\":107.6447},{\"mz\":585.76959,\"intensity\":493.1025},{\"mz\":586.26678,\"intensity\":473.7382},{\"mz\":588.81873,\"intensity\":233.3332},{\"mz\":593.77887,\"intensity\":196.0799},{\"mz\":594.27661,\"intensity\":474.5169},{\"mz\":594.7774,\"intensity\":2625.148},{\"mz\":595.19702,\"intensity\":98.07767},{\"mz\":595.28461,\"intensity\":770.8936},{\"mz\":600.28125,\"intensity\":93.24009},{\"mz\":602.78687,\"intensity\":539.2776},{\"mz\":603.27844,\"intensity\":1425.828},{\"mz\":603.77917,\"intensity\":411.5556},{\"mz\":611.79083,\"intensity\":1100.022},{\"mz\":612.29089,\"intensity\":786.955},{\"mz\":614.30945,\"intensity\":189.8356},{\"mz\":620.92456,\"intensity\":94.50323},{\"mz\":622.67065,\"intensity\":211.5718},{\"mz\":623.00433,\"intensity\":308.2873},{\"mz\":623.32965,\"intensity\":160.2828},{\"mz\":633.36646,\"intensity\":106.8811},{\"mz\":643.30194,\"intensity\":564.7256},{\"mz\":643.97461,\"intensity\":92.41217},{\"mz\":644.30664,\"intensity\":106.7596},{\"mz\":645.85065,\"intensity\":86.88284},{\"mz\":649.98712,\"intensity\":91.16106},{\"mz\":650.3183,\"intensity\":272.1689},{\"mz\":651.32245,\"intensity\":139.994},{\"mz\":655.65698,\"intensity\":146.5744},{\"mz\":658.32581,\"intensity\":139.126},{\"mz\":659.32867,\"intensity\":227.4465},{\"mz\":659.82428,\"intensity\":339.1299},{\"mz\":661.66272,\"intensity\":355.9604},{\"mz\":661.99719,\"intensity\":261.6057},{\"mz\":662.33771,\"intensity\":205.5486},{\"mz\":703.34155,\"intensity\":200.9261},{\"mz\":711.84381,\"intensity\":425.8564},{\"mz\":712.34216,\"intensity\":443.5017},{\"mz\":730.33459,\"intensity\":528.4755},{\"mz\":731.33783,\"intensity\":306.635},{\"mz\":734.41376,\"intensity\":187.7748},{\"mz\":767.39771,\"intensity\":118.5136},{\"mz\":767.85651,\"intensity\":156.7686},{\"mz\":776.3606,\"intensity\":152.4337},{\"mz\":776.87164,\"intensity\":151.6859},{\"mz\":792.875,\"intensity\":214.166},{\"mz\":793.36304,\"intensity\":110.3984},{\"mz\":801.38068,\"intensity\":355.2381},{\"mz\":801.87268,\"intensity\":427.9933},{\"mz\":802.37146,\"intensity\":169.9695},{\"mz\":810.38464,\"intensity\":701.1418},{\"mz\":810.88306,\"intensity\":447.7175},{\"mz\":825.41553,\"intensity\":142.4287},{\"mz\":835.48615,\"intensity\":151.6225},{\"mz\":840.39972,\"intensity\":185.6205},{\"mz\":843.41937,\"intensity\":2103.097},{\"mz\":844.42188,\"intensity\":598.3317},{\"mz\":847.95972,\"intensity\":203.4357},{\"mz\":848.46552,\"intensity\":218.2574},{\"mz\":867.39832,\"intensity\":150.6456},{\"mz\":876.97156,\"intensity\":152.0691},{\"mz\":877.44507,\"intensity\":2751.281},{\"mz\":878.44775,\"intensity\":713.0289},{\"mz\":893.90674,\"intensity\":138.2526},{\"mz\":894.41077,\"intensity\":196.3892},{\"mz\":900.44226,\"intensity\":714.466},{\"mz\":901.44568,\"intensity\":319.9002},{\"mz\":902.92096,\"intensity\":264.5187},{\"mz\":903.41901,\"intensity\":359.6289},{\"mz\":904.91998,\"intensity\":188.0056},{\"mz\":924.98889,\"intensity\":201.2831},{\"mz\":933.49634,\"intensity\":699.1588},{\"mz\":934.00317,\"intensity\":596.2888},{\"mz\":934.4953,\"intensity\":325.0743},{\"mz\":942.42786,\"intensity\":214.3432},{\"mz\":949.50665,\"intensity\":147.7699},{\"mz\":951.43414,\"intensity\":258.3941},{\"mz\":951.92719,\"intensity\":259.7183},{\"mz\":959.93719,\"intensity\":328.4117},{\"mz\":960.44067,\"intensity\":498.7733},{\"mz\":964.47498,\"intensity\":1128.607},{\"mz\":965.47015,\"intensity\":294.6219},{\"mz\":969.44635,\"intensity\":127.3267},{\"mz\":987.47229,\"intensity\":771.5002},{\"mz\":988.47455,\"intensity\":223.6013},{\"mz\":1004.4575,\"intensity\":103.0786},{\"mz\":1061.5206,\"intensity\":167.1585},{\"mz\":1078.5142,\"intensity\":103.0195},{\"mz\":1101.5148,\"intensity\":627.6382},{\"mz\":1102.5326,\"intensity\":281.1112},{\"mz\":1116.5856,\"intensity\":155.2629},{\"mz\":1134.1617,\"intensity\":74.63107},{\"mz\":1134.5724,\"intensity\":287.1478},{\"mz\":1170.5297,\"intensity\":155.2897},{\"mz\":1187.5413,\"intensity\":174.4809},{\"mz\":1188.5481,\"intensity\":456.1581},{\"mz\":1205.5789,\"intensity\":107.7451},{\"mz\":1536.1685,\"intensity\":73.7821},{\"mz\":1563.991,\"intensity\":85.92266},{\"mz\":1625.6926,\"intensity\":75.41674},{\"mz\":1625.9557,\"intensity\":76.29048},{\"mz\":1833.2148,\"intensity\":84.97263},{\"mz\":1916.1755,\"intensity\":82.42414}],\"annotation\":{\"fragmentTolerance\":{\"tolerance\":20,\"unit\":\"ppm\"},\"modifications\":[{\"aminoacid\":\"C\",\"id\":\"cm\",\"mass\":160.030648}],\"ions\":[{\"type\":\"PeptideIon\"},{\"type\":\"BIon\"},{\"type\":\"YIon\"}],\"cross-linker\":{\"modMass\":138.06807961},\"precursorCharge\":3}}";
        String json = "{\"Peptides\":[{\"sequence\":[{\"aminoAcid\":\"R\",\"Modification\":\"\"},{\"aminoAcid\":\"H\",\"Modification\":\"\"},{\"aminoAcid\":\"P\",\"Modification\":\"\"},{\"aminoAcid\":\"Y\",\"Modification\":\"\"},{\"aminoAcid\":\"F\",\"Modification\":\"\"},{\"aminoAcid\":\"Y\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"P\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"F\",\"Modification\":\"\"},{\"aminoAcid\":\"F\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]}],\"LinkSite\":[{\"id\":0,\"peptideId\":0,\"linkSite\":-2}],\"peaks\":[{\"intensity\":2501.6264648438,\"mz\":118.28723270432},{\"intensity\":8423.7685546875,\"mz\":118.90622650097},{\"intensity\":7386.0512695312,\"mz\":118.91082701197},{\"intensity\":6506.3969726562,\"mz\":118.96789471068},{\"intensity\":5171.3881835938,\"mz\":118.97219767619},{\"intensity\":2806.2014160156,\"mz\":121.26818073071},{\"intensity\":10426.513671875,\"mz\":133.58992848227},{\"intensity\":2157.7763671875,\"mz\":136.67311008656},{\"intensity\":3301.4367675781,\"mz\":141.91956945776},{\"intensity\":5181.65234375,\"mz\":147.11321831954},{\"intensity\":3146.9658203125,\"mz\":152.96937128355},{\"intensity\":4058.435546875,\"mz\":168.08956486622},{\"intensity\":22200.7578125,\"mz\":174.1352314179},{\"intensity\":6462.1967773438,\"mz\":182.62070993533},{\"intensity\":5921.0532226562,\"mz\":199.10859042653},{\"intensity\":9139.6572265625,\"mz\":199.18071850454},{\"intensity\":11098.423828125,\"mz\":200.13971524139},{\"intensity\":41490.7421875,\"mz\":202.13186620591},{\"intensity\":4493.1943359375,\"mz\":205.42834977816},{\"intensity\":5345.8774414062,\"mz\":205.63682998334},{\"intensity\":4226.4418945312,\"mz\":205.84762951745},{\"intensity\":18386.76953125,\"mz\":217.4987631449},{\"intensity\":45495.29296875,\"mz\":218.15054035082},{\"intensity\":3356.4501953125,\"mz\":219.15400106468},{\"intensity\":50167.5234375,\"mz\":227.10316528423},{\"intensity\":12707.369140625,\"mz\":227.17569008956},{\"intensity\":5185.232421875,\"mz\":233.16431946003},{\"intensity\":20878.669921875,\"mz\":256.64860825981},{\"intensity\":3585.4353027344,\"mz\":257.14988848382},{\"intensity\":5653.404296875,\"mz\":261.12408912502},{\"intensity\":7750.2392578125,\"mz\":261.15927578631},{\"intensity\":17103.8046875,\"mz\":263.64877021916},{\"intensity\":50039.6953125,\"mz\":264.15270546445},{\"intensity\":17733.046875,\"mz\":264.65374154857},{\"intensity\":8113.1401367188,\"mz\":265.15435038789},{\"intensity\":53252.16015625,\"mz\":266.17332924335},{\"intensity\":52921.890625,\"mz\":267.18025369186},{\"intensity\":7170.9985351562,\"mz\":268.18394328687},{\"intensity\":7992.4892578125,\"mz\":273.15554692097},{\"intensity\":4081.271484375,\"mz\":277.64802602586},{\"intensity\":9437.8486328125,\"mz\":293.16113223998},{\"intensity\":33725.234375,\"mz\":294.16729375134},{\"intensity\":14408.407226562,\"mz\":295.14440261609},{\"intensity\":6001.8999023438,\"mz\":312.48825281161},{\"intensity\":114771.0390625,\"mz\":313.18954463846},{\"intensity\":53151.03515625,\"mz\":313.69039761767},{\"intensity\":9439.62890625,\"mz\":314.19091490453},{\"intensity\":6691.4272460938,\"mz\":334.49486968355},{\"intensity\":7081.8642578125,\"mz\":337.18019482366},{\"intensity\":37050.453125,\"mz\":337.68559490827},{\"intensity\":15089.842773438,\"mz\":338.18904187379},{\"intensity\":7504.2978515625,\"mz\":338.6868431044},{\"intensity\":20473.431640625,\"mz\":340.1888222098},{\"intensity\":8006.28125,\"mz\":344.50237729463},{\"intensity\":25229.595703125,\"mz\":344.84234208797},{\"intensity\":16706.470703125,\"mz\":345.17464699235},{\"intensity\":7753.6918945312,\"mz\":345.50689086175},{\"intensity\":6048.7548828125,\"mz\":351.17572749707},{\"intensity\":7499.6040039062,\"mz\":359.69102159826},{\"intensity\":13843.850585938,\"mz\":361.72208235735},{\"intensity\":81163.3515625,\"mz\":365.21868434363},{\"intensity\":15258.084960938,\"mz\":366.22231290366},{\"intensity\":154979.171875,\"mz\":369.73240361873},{\"intensity\":71027.640625,\"mz\":370.23276831816},{\"intensity\":16662.921875,\"mz\":370.73459785692},{\"intensity\":7278.4233398438,\"mz\":378.5211649114},{\"intensity\":7205.5341796875,\"mz\":378.86314385882},{\"intensity\":7691.3247070312,\"mz\":379.19654739269},{\"intensity\":7731.0346679688,\"mz\":381.85391851568},{\"intensity\":25264.27734375,\"mz\":387.51665165381},{\"intensity\":141189.015625,\"mz\":387.85509057286},{\"intensity\":68643.4140625,\"mz\":388.18821944936},{\"intensity\":39108.53125,\"mz\":388.52403386462},{\"intensity\":9801.763671875,\"mz\":388.85884120284},{\"intensity\":15444.279296875,\"mz\":392.20673148014},{\"intensity\":13434.571289062,\"mz\":410.21503889699},{\"intensity\":5226.6723632812,\"mz\":410.552470739},{\"intensity\":18648.705078125,\"mz\":416.55172019457},{\"intensity\":7038.6372070312,\"mz\":416.88191939241},{\"intensity\":9261.87890625,\"mz\":416.89379069444},{\"intensity\":11663.256835938,\"mz\":418.7142197656},{\"intensity\":21976.314453125,\"mz\":419.21333324811},{\"intensity\":16307.602539062,\"mz\":419.54423434813},{\"intensity\":5555.5751953125,\"mz\":419.72285319332},{\"intensity\":11334.563476562,\"mz\":419.87858392406},{\"intensity\":9924.4931640625,\"mz\":420.22453014465},{\"intensity\":24994.125,\"mz\":425.20980561245},{\"intensity\":309817.9375,\"mz\":425.54958730088},{\"intensity\":199226.328125,\"mz\":425.88460826151},{\"intensity\":88452.953125,\"mz\":426.21804231286},{\"intensity\":4019.3647460938,\"mz\":426.2433413087},{\"intensity\":14882.591796875,\"mz\":426.55297172103},{\"intensity\":54230.70703125,\"mz\":432.71115624336},{\"intensity\":10429.350585938,\"mz\":432.89682462781},{\"intensity\":26039.619140625,\"mz\":433.21002558598},{\"intensity\":9782.27734375,\"mz\":444.49694827751},{\"intensity\":9591.2177734375,\"mz\":448.48991717257},{\"intensity\":50018.1953125,\"mz\":448.74183901898},{\"intensity\":59090.4296875,\"mz\":448.99498156484},{\"intensity\":36553.91796875,\"mz\":449.24449252986},{\"intensity\":12442.282226562,\"mz\":449.49391194243},{\"intensity\":128903.828125,\"mz\":452.74158279592},{\"intensity\":115438.7109375,\"mz\":452.99167359318},{\"intensity\":65289.890625,\"mz\":453.24130662815},{\"intensity\":27829.546875,\"mz\":453.4905429358},{\"intensity\":13571.6875,\"mz\":454.2340404457},{\"intensity\":8938.6123046875,\"mz\":454.58587654107},{\"intensity\":180348.125,\"mz\":454.73657188663},{\"intensity\":88911.2265625,\"mz\":455.23754693579},{\"intensity\":28461.97265625,\"mz\":455.73727076802},{\"intensity\":23907.447265625,\"mz\":457.24031798542},{\"intensity\":8262.986328125,\"mz\":457.49471174819},{\"intensity\":8543.615234375,\"mz\":457.57894000938},{\"intensity\":11658.419921875,\"mz\":457.91167215856},{\"intensity\":8326.8583984375,\"mz\":460.23570078266},{\"intensity\":5132.4072265625,\"mz\":460.72950422261},{\"intensity\":6049.2270507812,\"mz\":460.74409158089},{\"intensity\":24316.98828125,\"mz\":461.23511792963},{\"intensity\":21403.072265625,\"mz\":461.49045773447},{\"intensity\":22044.982421875,\"mz\":461.74485149725},{\"intensity\":12982.768554688,\"mz\":461.99228727323},{\"intensity\":48900.5,\"mz\":462.90802547376},{\"intensity\":670123.875,\"mz\":463.24466386114},{\"intensity\":565884.375,\"mz\":463.5791660245},{\"intensity\":226135.046875,\"mz\":463.91333249552},{\"intensity\":85415.4609375,\"mz\":464.25064226759},{\"intensity\":40611.76953125,\"mz\":464.50738587678},{\"intensity\":31526.84765625,\"mz\":464.76171860458},{\"intensity\":13566.768554688,\"mz\":465.00579745711},{\"intensity\":9676.6201171875,\"mz\":467.72685857326},{\"intensity\":281675.9375,\"mz\":468.23122106335},{\"intensity\":22183.796875,\"mz\":468.50902173784},{\"intensity\":172408.109375,\"mz\":468.73164679776},{\"intensity\":11677.822265625,\"mz\":469.01008833945},{\"intensity\":47754.1484375,\"mz\":469.23140114747},{\"intensity\":13231.291992188,\"mz\":469.73558053265},{\"intensity\":29108.314453125,\"mz\":470.75736699681},{\"intensity\":459358.46875,\"mz\":471.00431449302},{\"intensity\":462868.71875,\"mz\":471.25562598972},{\"intensity\":303889.1875,\"mz\":471.50596092686},{\"intensity\":117046.3671875,\"mz\":471.75657052138},{\"intensity\":48629.79296875,\"mz\":472.0082787454},{\"intensity\":16129.74609375,\"mz\":472.25495158423},{\"intensity\":13843.9609375,\"mz\":472.56088938076},{\"intensity\":14684.704101562,\"mz\":472.80386960379},{\"intensity\":10591.6796875,\"mz\":473.04706344923},{\"intensity\":46791.17578125,\"mz\":473.77887276201},{\"intensity\":17931.599609375,\"mz\":474.27713175492},{\"intensity\":29264.767578125,\"mz\":475.01013124966},{\"intensity\":1238844.5,\"mz\":475.26309069059},{\"intensity\":14569196,\"mz\":475.51138095618},{\"intensity\":16840912,\"mz\":475.7565584382},{\"intensity\":9639267,\"mz\":476.00246833989},{\"intensity\":3388862,\"mz\":476.25060601805},{\"intensity\":1101265.25,\"mz\":476.50203958469},{\"intensity\":141090.328125,\"mz\":476.75359522127},{\"intensity\":7864.0634765625,\"mz\":477.23036990408},{\"intensity\":12835.157226562,\"mz\":478.49196277274},{\"intensity\":14216.551757812,\"mz\":478.73863561157},{\"intensity\":6658.7041015625,\"mz\":478.98951986347},{\"intensity\":27164.111328125,\"mz\":481.76795385318},{\"intensity\":34937.9765625,\"mz\":482.27573430169},{\"intensity\":122127.578125,\"mz\":482.78000523933},{\"intensity\":78731.203125,\"mz\":483.28162115568},{\"intensity\":18537.302734375,\"mz\":483.78839452717},{\"intensity\":30481.61328125,\"mz\":503.26794994106},{\"intensity\":19880.673828125,\"mz\":503.61148528026},{\"intensity\":17003.35546875,\"mz\":503.76639203888},{\"intensity\":8324.51171875,\"mz\":503.93622184812},{\"intensity\":15548.360351562,\"mz\":510.28803981873},{\"intensity\":7949.783203125,\"mz\":510.79838373607},{\"intensity\":657365.25,\"mz\":512.28922395909},{\"intensity\":54800.9296875,\"mz\":512.59940368616},{\"intensity\":24325.9921875,\"mz\":512.94113849369},{\"intensity\":209227.46875,\"mz\":513.292028547},{\"intensity\":42644.80078125,\"mz\":514.29355140051},{\"intensity\":13007.705078125,\"mz\":516.75692286539},{\"intensity\":9632.609375,\"mz\":517.79323565286},{\"intensity\":11501.130859375,\"mz\":518.29897142982},{\"intensity\":13922.290039062,\"mz\":535.27835129079},{\"intensity\":26735.8125,\"mz\":535.61721745464},{\"intensity\":94204.6953125,\"mz\":535.95077357594},{\"intensity\":123808.6171875,\"mz\":536.28542832673},{\"intensity\":53669.79296875,\"mz\":536.62130377696},{\"intensity\":23632.861328125,\"mz\":536.95382230374},{\"intensity\":33865.87890625,\"mz\":545.79876628802},{\"intensity\":20549.8359375,\"mz\":546.30877451301},{\"intensity\":7321.6762695312,\"mz\":547.77776421611},{\"intensity\":43174.76171875,\"mz\":552.29337557533},{\"intensity\":59384.3359375,\"mz\":552.62748101138},{\"intensity\":30654.63671875,\"mz\":552.95908401358},{\"intensity\":11457.796875,\"mz\":554.28458049779},{\"intensity\":24461.697265625,\"mz\":561.28736696094},{\"intensity\":21576.763671875,\"mz\":561.62696554445},{\"intensity\":9577.4306640625,\"mz\":561.96485514875},{\"intensity\":10547.651367188,\"mz\":562.29108707343},{\"intensity\":32030.41796875,\"mz\":566.63348118247},{\"intensity\":23732.677734375,\"mz\":566.9580651629},{\"intensity\":14821.627929688,\"mz\":567.29540545246},{\"intensity\":26933.435546875,\"mz\":567.78869009515},{\"intensity\":18650.7734375,\"mz\":568.28948203939},{\"intensity\":8404.5048828125,\"mz\":572.27079325482},{\"intensity\":14199.455078125,\"mz\":576.29836897892},{\"intensity\":15874.459960938,\"mz\":576.63387821932},{\"intensity\":9097.41015625,\"mz\":576.96871607503},{\"intensity\":25334.943359375,\"mz\":580.77168310264},{\"intensity\":606759.3125,\"mz\":581.27912785881},{\"intensity\":434574.78125,\"mz\":581.78101843254},{\"intensity\":142639.796875,\"mz\":582.2808948522},{\"intensity\":38941.47265625,\"mz\":582.78565406961},{\"intensity\":6517.474609375,\"mz\":583.2917560564},{\"intensity\":44168.8203125,\"mz\":584.96893604856},{\"intensity\":46646.53515625,\"mz\":585.30340769444},{\"intensity\":26190.576171875,\"mz\":585.63684174579},{\"intensity\":9135.2978515625,\"mz\":598.31862716707},{\"intensity\":7315.2578125,\"mz\":609.36034185909},{\"intensity\":18072.234375,\"mz\":623.82495880885},{\"intensity\":22597.77734375,\"mz\":624.33026734101},{\"intensity\":7071.7475585938,\"mz\":624.83282929943},{\"intensity\":360771.0625,\"mz\":625.37298880053},{\"intensity\":152072.25,\"mz\":626.37744133268},{\"intensity\":16163.115234375,\"mz\":627.33062448846},{\"intensity\":25905.1953125,\"mz\":627.38525078829},{\"intensity\":18759.41796875,\"mz\":627.83446818129},{\"intensity\":10266.561523438,\"mz\":628.33629772005},{\"intensity\":24106.134765625,\"mz\":628.81420154983},{\"intensity\":17682.736328125,\"mz\":629.31755696289},{\"intensity\":9795.6591796875,\"mz\":629.82542896386},{\"intensity\":63753.4453125,\"mz\":633.67380601054},{\"intensity\":65330.84765625,\"mz\":634.00455452314},{\"intensity\":61494.97265625,\"mz\":634.3392703089},{\"intensity\":16942.103515625,\"mz\":634.6752067941},{\"intensity\":18874.484375,\"mz\":637.32351422377},{\"intensity\":518297.90625,\"mz\":637.82125441941},{\"intensity\":354216.21875,\"mz\":638.32320602812},{\"intensity\":159498.40625,\"mz\":638.82357072755},{\"intensity\":34615.7265625,\"mz\":639.32778063021},{\"intensity\":8273.1591796875,\"mz\":639.82765704987},{\"intensity\":13205.528320312,\"mz\":642.29725408189},{\"intensity\":11353.666992188,\"mz\":685.35669432027},{\"intensity\":47504.73046875,\"mz\":694.36588341387},{\"intensity\":37428.02734375,\"mz\":694.86417292426},{\"intensity\":16243.05078125,\"mz\":695.36362209911},{\"intensity\":150906.265625,\"mz\":738.45657053705},{\"intensity\":68400.2890625,\"mz\":739.46077892931},{\"intensity\":17315.078125,\"mz\":740.46443800683},{\"intensity\":10804.225585938,\"mz\":746.8836080689},{\"intensity\":11937.116210938,\"mz\":747.39184627971},{\"intensity\":14238.028320312,\"mz\":767.90008510959},{\"intensity\":38531.8125,\"mz\":768.39758116534},{\"intensity\":45883.109375,\"mz\":768.89568757082},{\"intensity\":21906.119140625,\"mz\":769.39098636759},{\"intensity\":47907.30078125,\"mz\":802.91957160774},{\"intensity\":67546.8515625,\"mz\":803.41981423723},{\"intensity\":34329.61328125,\"mz\":803.92573311911},{\"intensity\":21468.658203125,\"mz\":804.42914956714},{\"intensity\":11880.658203125,\"mz\":849.49322242178},{\"intensity\":14548.080078125,\"mz\":851.48113145576},{\"intensity\":11560.958984375,\"mz\":864.4197520387},{\"intensity\":11505.059570312,\"mz\":867.49634186602},{\"intensity\":40472.9453125,\"mz\":894.48881403799},{\"intensity\":16245.369140625,\"mz\":895.48685789809},{\"intensity\":26491.875,\"mz\":935.45676889511},{\"intensity\":18031.240234375,\"mz\":936.45957348302},{\"intensity\":9470.3603515625,\"mz\":964.55195688316},{\"intensity\":7613.9672851562,\"mz\":965.55579906559},{\"intensity\":5883.9067382812,\"mz\":1040.2273264272}],\"annotation\":{\"fragmentTolerance\":{\"tolerance\":15,\"unit\":\"ppm\"},\"modifications\":[{\"id\":\"cm\",\"mass\":57.0215,\"aminoAcids\":[\"*\"],\"changed\":false,\"userMod\":false},{\"id\":\"ox\",\"mass\":15.9949,\"aminoAcids\":[\"*\"],\"changed\":false,\"userMod\":false}],\"ions\":[{\"type\":\"BIon\"},{\"type\":\"YIon\"},{\"type\":\"PeptideIon\"}],\"crosslinker\":{\"modMass\":0},\"precursorMZ\":475.50430046755,\"precursorCharge\":4,\"requestID\":\"-1\",\"custom\":[\"loss:CleavableCrossLinkerPeptide:MASS:41.002739665;NAME:ucl_A\",\"loss:CleavableCrossLinkerPeptide:MASS:72.974810365;NAME:ucl_B\",\"loss:CleavableCrossLinkerPeptide:MASS:177.037410645;NAME:ucl_C\",\"loss:CleavableCrossLinkerPeptide:MASS:209.009481345;NAME:ucl_D\",\"TransferLossToBase:true\",\"loss:AminoAcidRestrictedLoss:NAME:H;aminoacids:Y;MASS:1.007825035;cterm;ID:1\",\"loss:CrossLinkerRestrictedLoss:NAME:H;MASS:1.007825035;cterm;ID:1\"]}}";
        String responseMsg = target.path("annotate/FULL")
                .request().post(Entity.entity(json, MediaType.APPLICATION_JSON),String.class);
        
        System.out.println(responseMsg);
        assertEquals("{\"error\":\"No Spectra\"}", responseMsg);
    }
}
