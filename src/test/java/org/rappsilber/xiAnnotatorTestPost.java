package org.rappsilber;

import javax.ws.rs.client.Client;
import javax.ws.rs.client.ClientBuilder;
import javax.ws.rs.client.Entity;
import javax.ws.rs.client.WebTarget;
import javax.ws.rs.core.MediaType;

import org.glassfish.grizzly.http.server.HttpServer;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class xiAnnotatorTestPost {

    private HttpServer server;
    private WebTarget target;

    @Before
    public void setUp() throws Exception {
        // start the server
        server = Main.startServer();
        // create the client
        Client c = ClientBuilder.newClient();

        // uncomment the following line if you want to enable
        // support for JSON in the client (you also have to uncomment
        // dependency on jersey-media-json module in pom.xml and Main.startServer())
        // --
        // c.configuration().enable(new org.glassfish.jersey.media.json.JsonJaxbFeature());

        target = c.target(Main.BASE_URI);
    }

    @After
    public void tearDown() throws Exception {
        server.stop();
    }

    /**
     * Test to see that the message "Got it!" is sent in the response.
     */
    @Test
    public void testGetIt() {
/*        String responseMsg = target.path("annotate/3413/68913-53595-83402-24933/210231825/")
                .queryParam("peptide","TVTAMDVVYALK","TLYGFGG")
                .queryParam("link","4","6")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3421/85160-94827-96653-69142/210313888/") 
                .queryParam("peptide","LVRPEVDVMCcmTAFHDNEETFLKK","YKAAFTECcmCcmQAADK")
                .queryParam("link","21","1")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3421/85160-94827-96653-69142/210312725/") 
                .queryParam("peptide","VHTECcmCcmHGDLLECcmADDRADLAK")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3947/30582-35562-38444-85066/227540102/") 
                .queryParam("peptide","GSSHHHHHHSSGLVPR","XdLFSK")
                .queryParam("link","4","1")
                .queryParam("firstresidue","0")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
*///        http://129.215.14.63/xiAnnotator/annotate/3943/21672-50578-53639-62223/227500098/?peptide=GSSHHHHHHSSGLVPR&peptide=XdLFSK&link=4&link=1
        //String json = "{\"Peptides\":[{\"sequence\":[{\"aminoAcid\":\"K\",\"Modification\":\"\"},{\"aminoAcid\":\"Q\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"Q\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"G\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]},{\"sequence\":[{\"aminoAcid\":\"M\",\"Modification\":\"ox\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]}],\"LinkSite\":[{\"id\":0,\"peptideId\":0,\"linkSite\":11},{\"id\":0,\"peptideId\":1,\"linkSite\":0}],\"peaks\":[{\"mz\":192.96811,\"intensity\":67.73983},{\"mz\":244.1642,\"intensity\":110.8582},{\"mz\":261.15775,\"intensity\":129.5965},{\"mz\":275.59494,\"intensity\":80.46323},{\"mz\":314.6499,\"intensity\":73.12415},{\"mz\":318.53464,\"intensity\":74.77551},{\"mz\":332.19034,\"intensity\":129.8459},{\"mz\":352.76807,\"intensity\":80.8383},{\"mz\":368.19485,\"intensity\":161.2779},{\"mz\":369.15225,\"intensity\":70.75565},{\"mz\":391.24362,\"intensity\":87.39551},{\"mz\":407.71011,\"intensity\":765.3865},{\"mz\":408.21057,\"intensity\":168.6249},{\"mz\":429.08914,\"intensity\":1021.067},{\"mz\":439.22614,\"intensity\":1080.865},{\"mz\":439.72787,\"intensity\":146.117},{\"mz\":446.2355,\"intensity\":1156.349},{\"mz\":447.24475,\"intensity\":107.6111},{\"mz\":473.73792,\"intensity\":582.5543},{\"mz\":474.23178,\"intensity\":151.0379},{\"mz\":479.22253,\"intensity\":89.13316},{\"mz\":482.74237,\"intensity\":1837.839},{\"mz\":483.24542,\"intensity\":517.5132},{\"mz\":485.22946,\"intensity\":160.8755},{\"mz\":494.23871,\"intensity\":117.7743},{\"mz\":504.73248,\"intensity\":104.7452},{\"mz\":514.25714,\"intensity\":168.123},{\"mz\":519.32617,\"intensity\":84.28606},{\"mz\":530.75781,\"intensity\":348.261},{\"mz\":531.25165,\"intensity\":574.6472},{\"mz\":531.75232,\"intensity\":195.0436},{\"mz\":532.28021,\"intensity\":122.7291},{\"mz\":539.76459,\"intensity\":461.346},{\"mz\":540.26691,\"intensity\":216.6365},{\"mz\":542.25702,\"intensity\":383.6699},{\"mz\":542.74811,\"intensity\":144.7962},{\"mz\":551.26862,\"intensity\":138.4185},{\"mz\":556.75995,\"intensity\":131.5791},{\"mz\":557.25281,\"intensity\":154.4313},{\"mz\":565.75897,\"intensity\":124.528},{\"mz\":566.2757,\"intensity\":105.5735},{\"mz\":567.77228,\"intensity\":99.65214},{\"mz\":574.27252,\"intensity\":177.6217},{\"mz\":574.77173,\"intensity\":304.3945},{\"mz\":576.76465,\"intensity\":337.0186},{\"mz\":577.26617,\"intensity\":151.8026},{\"mz\":583.28101,\"intensity\":403.2102},{\"mz\":583.77972,\"intensity\":189.2003},{\"mz\":584.76569,\"intensity\":107.6447},{\"mz\":585.76959,\"intensity\":493.1025},{\"mz\":586.26678,\"intensity\":473.7382},{\"mz\":588.81873,\"intensity\":233.3332},{\"mz\":593.77887,\"intensity\":196.0799},{\"mz\":594.27661,\"intensity\":474.5169},{\"mz\":594.7774,\"intensity\":2625.148},{\"mz\":595.19702,\"intensity\":98.07767},{\"mz\":595.28461,\"intensity\":770.8936},{\"mz\":600.28125,\"intensity\":93.24009},{\"mz\":602.78687,\"intensity\":539.2776},{\"mz\":603.27844,\"intensity\":1425.828},{\"mz\":603.77917,\"intensity\":411.5556},{\"mz\":611.79083,\"intensity\":1100.022},{\"mz\":612.29089,\"intensity\":786.955},{\"mz\":614.30945,\"intensity\":189.8356},{\"mz\":620.92456,\"intensity\":94.50323},{\"mz\":622.67065,\"intensity\":211.5718},{\"mz\":623.00433,\"intensity\":308.2873},{\"mz\":623.32965,\"intensity\":160.2828},{\"mz\":633.36646,\"intensity\":106.8811},{\"mz\":643.30194,\"intensity\":564.7256},{\"mz\":643.97461,\"intensity\":92.41217},{\"mz\":644.30664,\"intensity\":106.7596},{\"mz\":645.85065,\"intensity\":86.88284},{\"mz\":649.98712,\"intensity\":91.16106},{\"mz\":650.3183,\"intensity\":272.1689},{\"mz\":651.32245,\"intensity\":139.994},{\"mz\":655.65698,\"intensity\":146.5744},{\"mz\":658.32581,\"intensity\":139.126},{\"mz\":659.32867,\"intensity\":227.4465},{\"mz\":659.82428,\"intensity\":339.1299},{\"mz\":661.66272,\"intensity\":355.9604},{\"mz\":661.99719,\"intensity\":261.6057},{\"mz\":662.33771,\"intensity\":205.5486},{\"mz\":703.34155,\"intensity\":200.9261},{\"mz\":711.84381,\"intensity\":425.8564},{\"mz\":712.34216,\"intensity\":443.5017},{\"mz\":730.33459,\"intensity\":528.4755},{\"mz\":731.33783,\"intensity\":306.635},{\"mz\":734.41376,\"intensity\":187.7748},{\"mz\":767.39771,\"intensity\":118.5136},{\"mz\":767.85651,\"intensity\":156.7686},{\"mz\":776.3606,\"intensity\":152.4337},{\"mz\":776.87164,\"intensity\":151.6859},{\"mz\":792.875,\"intensity\":214.166},{\"mz\":793.36304,\"intensity\":110.3984},{\"mz\":801.38068,\"intensity\":355.2381},{\"mz\":801.87268,\"intensity\":427.9933},{\"mz\":802.37146,\"intensity\":169.9695},{\"mz\":810.38464,\"intensity\":701.1418},{\"mz\":810.88306,\"intensity\":447.7175},{\"mz\":825.41553,\"intensity\":142.4287},{\"mz\":835.48615,\"intensity\":151.6225},{\"mz\":840.39972,\"intensity\":185.6205},{\"mz\":843.41937,\"intensity\":2103.097},{\"mz\":844.42188,\"intensity\":598.3317},{\"mz\":847.95972,\"intensity\":203.4357},{\"mz\":848.46552,\"intensity\":218.2574},{\"mz\":867.39832,\"intensity\":150.6456},{\"mz\":876.97156,\"intensity\":152.0691},{\"mz\":877.44507,\"intensity\":2751.281},{\"mz\":878.44775,\"intensity\":713.0289},{\"mz\":893.90674,\"intensity\":138.2526},{\"mz\":894.41077,\"intensity\":196.3892},{\"mz\":900.44226,\"intensity\":714.466},{\"mz\":901.44568,\"intensity\":319.9002},{\"mz\":902.92096,\"intensity\":264.5187},{\"mz\":903.41901,\"intensity\":359.6289},{\"mz\":904.91998,\"intensity\":188.0056},{\"mz\":924.98889,\"intensity\":201.2831},{\"mz\":933.49634,\"intensity\":699.1588},{\"mz\":934.00317,\"intensity\":596.2888},{\"mz\":934.4953,\"intensity\":325.0743},{\"mz\":942.42786,\"intensity\":214.3432},{\"mz\":949.50665,\"intensity\":147.7699},{\"mz\":951.43414,\"intensity\":258.3941},{\"mz\":951.92719,\"intensity\":259.7183},{\"mz\":959.93719,\"intensity\":328.4117},{\"mz\":960.44067,\"intensity\":498.7733},{\"mz\":964.47498,\"intensity\":1128.607},{\"mz\":965.47015,\"intensity\":294.6219},{\"mz\":969.44635,\"intensity\":127.3267},{\"mz\":987.47229,\"intensity\":771.5002},{\"mz\":988.47455,\"intensity\":223.6013},{\"mz\":1004.4575,\"intensity\":103.0786},{\"mz\":1061.5206,\"intensity\":167.1585},{\"mz\":1078.5142,\"intensity\":103.0195},{\"mz\":1101.5148,\"intensity\":627.6382},{\"mz\":1102.5326,\"intensity\":281.1112},{\"mz\":1116.5856,\"intensity\":155.2629},{\"mz\":1134.1617,\"intensity\":74.63107},{\"mz\":1134.5724,\"intensity\":287.1478},{\"mz\":1170.5297,\"intensity\":155.2897},{\"mz\":1187.5413,\"intensity\":174.4809},{\"mz\":1188.5481,\"intensity\":456.1581},{\"mz\":1205.5789,\"intensity\":107.7451},{\"mz\":1536.1685,\"intensity\":73.7821},{\"mz\":1563.991,\"intensity\":85.92266},{\"mz\":1625.6926,\"intensity\":75.41674},{\"mz\":1625.9557,\"intensity\":76.29048},{\"mz\":1833.2148,\"intensity\":84.97263},{\"mz\":1916.1755,\"intensity\":82.42414}],\"annotation\":{\"fragmentTolerance\":{\"tolerance\":20,\"unit\":\"ppm\"},\"modifications\":[{\"aminoacid\":\"C\",\"id\":\"cm\",\"mass\":160.030648}],\"ions\":[{\"type\":\"PeptideIon\"},{\"type\":\"BIon\"},{\"type\":\"YIon\"}],\"cross-linker\":{\"modMass\":138.06807961},\"precursorCharge\":3}}";
        String json = "{\"Peptides\":[{\"sequence\":[{\"aminoAcid\":\"K\",\"Modification\":\"\"},{\"aminoAcid\":\"Y\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"Y\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"I\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"R\",\"Modification\":\"\"}]},{\"sequence\":[{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"},{\"aminoAcid\":\"T\",\"Modification\":\"\"},{\"aminoAcid\":\"Y\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"T\",\"Modification\":\"\"},{\"aminoAcid\":\"T\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]}],\"LinkSite\":[{\"id\":0,\"peptideId\":0,\"linkSite\":0},{\"id\":0,\"peptideId\":1,\"linkSite\":2}],\"peaks\":[{\"intensity\":\"1158.54748535\",\"mz\":\"2479.966553\"},{\"intensity\":\"1096.45629883\",\"mz\":\"2265.550537\"},{\"intensity\":\"1108.24414063\",\"mz\":\"2115.820801\"},{\"intensity\":\"1005.72491455\",\"mz\":\"1831.126709\"},{\"intensity\":\"1188.80639648\",\"mz\":\"1567.199097\"},{\"intensity\":\"1204.67419434\",\"mz\":\"1194.66272\"},{\"intensity\":\"989.678100586\",\"mz\":\"1193.657471\"},{\"intensity\":\"3123.8527832\",\"mz\":\"985.4887695\"},{\"intensity\":\"3378.15185547\",\"mz\":\"984.4953003\"},{\"intensity\":\"1674.13989258\",\"mz\":\"915.3232422\"},{\"intensity\":\"3161.45825195\",\"mz\":\"883.4438477\"},{\"intensity\":\"4831.76025391\",\"mz\":\"835.3997192\"},{\"intensity\":\"3945.77539063\",\"mz\":\"784.8773804\"},{\"intensity\":\"1148.21984863\",\"mz\":\"769.4133301\"},{\"intensity\":\"1756.45129395\",\"mz\":\"765.4333496\"},{\"intensity\":\"5291.19873047\",\"mz\":\"764.4301758\"},{\"intensity\":\"1325.35192871\",\"mz\":\"760.4295654\"},{\"intensity\":\"1577.49682617\",\"mz\":\"759.9320068\"},{\"intensity\":\"3839.26928711\",\"mz\":\"759.4294434\"},{\"intensity\":\"1571.95019531\",\"mz\":\"721.3806152\"},{\"intensity\":\"4283.95019531\",\"mz\":\"720.3786011\"},{\"intensity\":\"1473.953125\",\"mz\":\"667.8692017\"},{\"intensity\":\"5622.91650391\",\"mz\":\"652.3515015\"},{\"intensity\":\"14409.2568359\",\"mz\":\"651.3468628\"},{\"intensity\":\"970.238952637\",\"mz\":\"639.87146\"},{\"intensity\":\"4636.43115234\",\"mz\":\"639.3699951\"},{\"intensity\":\"1659.41259766\",\"mz\":\"638.868042\"},{\"intensity\":\"1757.17260742\",\"mz\":\"624.3875122\"},{\"intensity\":\"4040.76220703\",\"mz\":\"624.2821045\"},{\"intensity\":\"6693.31738281\",\"mz\":\"623.7822266\"},{\"intensity\":\"14059.3896484\",\"mz\":\"623.2771606\"},{\"intensity\":\"1231.79138184\",\"mz\":\"622.8596191\"},{\"intensity\":\"1045.3885498\",\"mz\":\"622.7973633\"},{\"intensity\":\"1954.30505371\",\"mz\":\"622.3662109\"},{\"intensity\":\"941.85345459\",\"mz\":\"606.2442627\"},{\"intensity\":\"3869.09863281\",\"mz\":\"580.7362671\"},{\"intensity\":\"1405.94946289\",\"mz\":\"574.2617798\"},{\"intensity\":\"1439.81384277\",\"mz\":\"573.7594604\"},{\"intensity\":\"1000.92828369\",\"mz\":\"552.7538452\"},{\"intensity\":\"942.461914063\",\"mz\":\"536.2571411\"},{\"intensity\":\"1222.41186523\",\"mz\":\"496.2730713\"},{\"intensity\":\"922.662902832\",\"mz\":\"489.2863159\"},{\"intensity\":\"7788.10400391\",\"mz\":\"488.2842102\"},{\"intensity\":\"934.012817383\",\"mz\":\"473.18573\"},{\"intensity\":\"1746.77197266\",\"mz\":\"470.2704773\"},{\"intensity\":\"838.691467285\",\"mz\":\"426.2458191\"},{\"intensity\":\"1319.15393066\",\"mz\":\"382.7189941\"},{\"intensity\":\"5420.63623047\",\"mz\":\"359.2397461\"},{\"intensity\":\"1063.35009766\",\"mz\":\"337.9867249\"},{\"intensity\":\"4773.57958984\",\"mz\":\"305.2215576\"},{\"intensity\":\"3613.91357422\",\"mz\":\"293.1129456\"},{\"intensity\":\"1994.84619141\",\"mz\":\"277.1551514\"},{\"intensity\":\"1769.68774414\",\"mz\":\"276.1549072\"},{\"intensity\":\"1664.47509766\",\"mz\":\"267.170105\"},{\"intensity\":\"1447.23828125\",\"mz\":\"265.1189575\"},{\"intensity\":\"4793.34033203\",\"mz\":\"258.1448975\"},{\"intensity\":\"881.504150391\",\"mz\":\"253.0941925\"},{\"intensity\":\"5130.31494141\",\"mz\":\"249.1596527\"},{\"intensity\":\"957.595031738\",\"mz\":\"246.1565704\"},{\"intensity\":\"3325.14013672\",\"mz\":\"240.1594543\"},{\"intensity\":\"966.21862793\",\"mz\":\"240.0609283\"},{\"intensity\":\"4952.22460938\",\"mz\":\"239.1754456\"},{\"intensity\":\"1386.62011719\",\"mz\":\"237.1228485\"},{\"intensity\":\"1111.3112793\",\"mz\":\"226.1182709\"},{\"intensity\":\"6232.93261719\",\"mz\":\"222.1488037\"},{\"intensity\":\"1989.74450684\",\"mz\":\"221.1285553\"},{\"intensity\":\"1247.50756836\",\"mz\":\"218.1495361\"},{\"intensity\":\"1303.75927734\",\"mz\":\"215.1390076\"},{\"intensity\":\"1449.74719238\",\"mz\":\"213.0869904\"},{\"intensity\":\"873.036437988\",\"mz\":\"209.3994904\"},{\"intensity\":\"1507.77514648\",\"mz\":\"201.1235199\"},{\"intensity\":\"3545.67431641\",\"mz\":\"201.087204\"},{\"intensity\":\"813.329772949\",\"mz\":\"194.1530762\"},{\"intensity\":\"1063.02319336\",\"mz\":\"185.1652679\"},{\"intensity\":\"3404.92138672\",\"mz\":\"185.1286011\"},{\"intensity\":\"2014.98547363\",\"mz\":\"178.0646057\"},{\"intensity\":\"5819.99804688\",\"mz\":\"175.1190491\"},{\"intensity\":\"6256.18798828\",\"mz\":\"173.0921936\"},{\"intensity\":\"1009.66418457\",\"mz\":\"161.0384827\"},{\"intensity\":\"936.099121094\",\"mz\":\"158.0926971\"},{\"intensity\":\"5484.29101563\",\"mz\":\"157.1335297\"},{\"intensity\":\"1029.22619629\",\"mz\":\"155.0816498\"},{\"intensity\":\"11974.7851563\",\"mz\":\"147.1127167\"},{\"intensity\":\"810.27532959\",\"mz\":\"146.2929688\"},{\"intensity\":\"1204.49731445\",\"mz\":\"143.1177979\"},{\"intensity\":\"19869.8007813\",\"mz\":\"136.0756989\"},{\"intensity\":\"5174.91259766\",\"mz\":\"133.0431824\"},{\"intensity\":\"1209.94909668\",\"mz\":\"130.1055298\"},{\"intensity\":\"8052.50097656\",\"mz\":\"130.0862427\"},{\"intensity\":\"15159.6337891\",\"mz\":\"129.1022797\"},{\"intensity\":\"1283.78161621\",\"mz\":\"129.0658722\"},{\"intensity\":\"811.341674805\",\"mz\":\"121.0422592\"},{\"intensity\":\"8344.43261719\",\"mz\":\"120.0810013\"},{\"intensity\":\"767.660766602\",\"mz\":\"119.7136307\"},{\"intensity\":\"13487.4912109\",\"mz\":\"110.0715714\"}],\"annotation\":{\"fragmentTolerance\":{\"tolerance\":\"10\",\"unit\":\"ppm\"},\"modifications\":[{\"id\":\"sse\",\"mass\":46.895,\"aminoAcids\":[\"M\"],\"changed\":false,\"userMod\":false},{\"id\":\"8bs3oh\",\"mass\":164.0928,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"sda-oxid\",\"mass\":98.0368,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"tme\",\"mass\":42.047,\"aminoAcids\":[\"R\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"6bs3nh2\",\"mass\":161.1147,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"egsoh\",\"mass\":244.0583,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"dssonh2\",\"mass\":175.0303,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"sdtssp\",\"mass\":87.9983,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"hnc\",\"mass\":-22.032,\"aminoAcids\":[\"H\"],\"changed\":false,\"userMod\":false},{\"id\":\"leu\",\"mass\":-17.9564,\"aminoAcids\":[\"M\"],\"changed\":false,\"userMod\":false},{\"id\":\"dtb_ts1loop\",\"mass\":377.2315,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"10\",\"mass\":10.0083,\"aminoAcids\":[\"R\"],\"changed\":false,\"userMod\":false},{\"id\":\"ac\",\"mass\":0,\"aminoAcids\":[\"X\"],\"changed\":false,\"userMod\":false},{\"id\":\"ac\",\"mass\":42.0106,\"aminoAcids\":[\"K\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"Y\",\"Z\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs2gnh2\",\"mass\":113.0477,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"sda-hyd\",\"mass\":100.0524,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"2_dtb_ts1+loop+nh2+ohnh2\",\"mass\":396.2737,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"120\",\"mass\":120.0224,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"glu\",\"mass\":129.0426,\"aminoAcids\":[\"E\"],\"changed\":false,\"userMod\":false},{\"id\":\"sda\",\"mass\":110.048,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"dtsspoh\",\"mass\":191.9915,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"4\",\"mass\":4.0251,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"6\",\"mass\":6.0201,\"aminoAcids\":[\"R\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"phl-diaz\",\"mass\":11.9748,\"aminoAcids\":[\"L\"],\"changed\":false,\"userMod\":false},{\"id\":\"8\",\"mass\":8.0142,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"az\",\"mass\":41.0014,\"aminoAcids\":[\"F\"],\"changed\":false,\"userMod\":false},{\"id\":\"pyrr\",\"mass\":-27.9949,\"aminoAcids\":[\"P\"],\"changed\":false,\"userMod\":false},{\"id\":\"egsnh2\",\"mass\":243.0743,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"kynur\",\"mass\":3.9949,\"aminoAcids\":[\"W\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3-d4nh2\",\"mass\":159.1197,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"cmo\",\"mass\":73.0164,\"aminoAcids\":[\"C\"],\"changed\":false,\"userMod\":false},{\"id\":\"26\",\"mass\":26.0615,\"aminoAcids\":[\"R\",\"H\",\"K\",\"D\",\"E\",\"S\",\"T\",\"N\",\"Q\",\"C\",\"U\",\"G\",\"P\",\"A\",\"V\",\"I\",\"L\",\"M\",\"F\",\"Y\",\"W\"],\"changed\":false,\"userMod\":false},{\"id\":\"gee\",\"mass\":85.0528,\"aminoAcids\":[\"D\",\"E\"],\"changed\":false,\"userMod\":false},{\"id\":\"dtb_ts1nh2\",\"mass\":394.258,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"d,\",\"mass\":86.0849,\"aminoAcids\":[\"U\"],\"changed\":false,\"userMod\":false},{\"id\":\"dox\",\"mass\":31.9898,\"aminoAcids\":[\"C\",\"W\",\"F\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3tris\",\"mass\":259.142,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"6bs3loop\",\"mass\":144.0882,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"ucl2+nh+ohnh2\",\"mass\":267.0388,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"bsocoesoh\",\"mass\":223.9991,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"6bs3oh\",\"mass\":162.0987,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3-d4oh\",\"mass\":160.1037,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"tsat_oh\",\"mass\":173.0324,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"phm-hyd\",\"mass\":-1.9615,\"aminoAcids\":[\"M\"],\"changed\":false,\"userMod\":false},{\"id\":\"tox\",\"mass\":47.9847,\"aminoAcids\":[\"C\"],\"changed\":false,\"userMod\":false},{\"id\":\"tsat_nh2\",\"mass\":171.0644,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"phm-diaz\",\"mass\":8.0341,\"aminoAcids\":[\"M\"],\"changed\":false,\"userMod\":false},{\"id\":\"-2h\",\"mass\":-2.0157,\"aminoAcids\":[\"T\"],\"changed\":false,\"userMod\":false},{\"id\":\"2ohfk\",\"mass\":63.9797,\"aminoAcids\":[\"W\"],\"changed\":false,\"userMod\":false},{\"id\":\"d\",\"mass\":126.0429,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"dtssptris\",\"mass\":295.0548,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"h\",\"mass\":-1.0078,\"aminoAcids\":[\"R\",\"H\",\"K\",\"D\",\"E\",\"S\",\"T\",\"N\",\"Q\",\"C\",\"U\",\"G\",\"P\",\"A\",\"V\",\"I\",\"L\",\"M\",\"F\",\"Y\",\"W\"],\"changed\":false,\"userMod\":false},{\"id\":\"sda-loop\",\"mass\":82.0419,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"cm\",\"mass\":57.0215,\"aminoAcids\":[\"K\",\"H\",\"C\",\"D\",\"E\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"cooh\",\"mass\":43.9898,\"aminoAcids\":[\"E\"],\"changed\":false,\"userMod\":false},{\"id\":\"dssooh\",\"mass\":176.0143,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"uh3po4\",\"mass\":226.059,\"aminoAcids\":[\"A\",\"I\",\"L\",\"K\",\"F\",\"W\",\"Y\",\"V\"],\"changed\":false,\"userMod\":false},{\"id\":\"dsploop\",\"mass\":173.9809,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"asa\",\"mass\":-1.0316,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"p\",\"mass\":79.9664,\"aminoAcids\":[\"S\"],\"changed\":false,\"userMod\":false},{\"id\":\"p\",\"mass\":79.9663,\"aminoAcids\":[\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs2goh\",\"mass\":114.0317,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"dspnh2\",\"mass\":191.0075,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"2_dtb_ts1+loop+nh2+ohoh\",\"mass\":397.2577,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"da\",\"mass\":0.9835,\"aminoAcids\":[\"N\",\"Q\"],\"changed\":false,\"userMod\":false},{\"id\":\"ub\",\"mass\":114.0429,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"me\",\"mass\":14.0157,\"aminoAcids\":[\"D\"],\"changed\":false,\"userMod\":false},{\"id\":\"me\",\"mass\":14.0156,\"aminoAcids\":[\"R\",\"K\",\"E\"],\"changed\":false,\"userMod\":false},{\"id\":\"bmps-dttiaa\",\"mass\":348.045,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"gee-oh\",\"mass\":57.0215,\"aminoAcids\":[\"D\",\"E\"],\"changed\":false,\"userMod\":false},{\"id\":\"bmps\",\"mass\":151.0269,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"phl-hyd\",\"mass\":19.9793,\"aminoAcids\":[\"L\"],\"changed\":false,\"userMod\":false},{\"id\":\"dtb_ts1oh\",\"mass\":395.242,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3nh\",\"mass\":0,\"aminoAcids\":[\"X\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3nh\",\"mass\":155.0946,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\",\"W\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"U\",\"V\",\"Z\"],\"changed\":false,\"userMod\":false},{\"id\":\"ucl2+nh+ohoh\",\"mass\":268.0228,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"8bs3nh2\",\"mass\":163.1088,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"ohk\",\"mass\":19.9898,\"aminoAcids\":[\"W\"],\"changed\":false,\"userMod\":false},{\"id\":\"bmps-tris\",\"mass\":272.1008,\"aminoAcids\":[\"C\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3oh\",\"mass\":0,\"aminoAcids\":[\"X\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3oh\",\"mass\":156.0786,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\",\"W\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"U\",\"V\",\"Z\"],\"changed\":false,\"userMod\":false},{\"id\":\"4bs3nh2\",\"mass\":159.1197,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3loop\",\"mass\":138.0681,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\",\"W\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"U\",\"V\",\"Z\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3loop\",\"mass\":0,\"aminoAcids\":[\"X\"],\"changed\":false,\"userMod\":false},{\"id\":\"8bs3loop\",\"mass\":146.0823,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"bsocoesnh2\",\"mass\":223.0151,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"oh\",\"mass\":15.9949,\"aminoAcids\":[\"D\"],\"changed\":false,\"userMod\":false},{\"id\":\"benzo_hyd\",\"mass\":226.063,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"benzo_hyd\",\"mass\":208.0524,\"aminoAcids\":[\"R\",\"H\",\"K\",\"D\",\"E\",\"S\",\"T\",\"N\",\"Q\",\"C\",\"U\",\"G\",\"P\",\"A\",\"V\",\"I\",\"L\",\"M\",\"F\",\"Y\",\"W\"],\"changed\":false,\"userMod\":false},{\"id\":\"2_dtb_ts1+loop+nh2+ohloop\",\"mass\":379.2471,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3nh2\",\"mass\":155.0946,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"h2o\",\"mass\":-18.0106,\"aminoAcids\":[\"E\"],\"changed\":false,\"userMod\":false},{\"id\":\"hdc\",\"mass\":-23.016,\"aminoAcids\":[\"H\"],\"changed\":false,\"userMod\":false},{\"id\":\"bmps-dtt\",\"mass\":305.0392,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false},{\"id\":\"ox\",\"mass\":15.9949,\"aminoAcids\":[\"Q\",\"N\",\"C\",\"W\",\"F\",\"Y\",\"H\",\"P\",\"M\"],\"changed\":false,\"userMod\":false},{\"id\":\"dstoh\",\"mass\":132.0059,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"4bs3loop\",\"mass\":142.0932,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"dspoh\",\"mass\":191.9915,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"4bs3oh\",\"mass\":160.1037,\"aminoAcids\":[\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"gsa\",\"mass\":-43.0534,\"aminoAcids\":[\"R\"],\"changed\":false,\"userMod\":false},{\"id\":\"pyrglu\",\"mass\":13.9793,\"aminoAcids\":[\"P\"],\"changed\":false,\"userMod\":false},{\"id\":\"bmps-oh\",\"mass\":169.0375,\"aminoAcids\":[\"C\"],\"changed\":false,\"userMod\":false},{\"id\":\"bs3-d4loop\",\"mass\":142.0932,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"dstnh2\",\"mass\":131.0219,\"aminoAcids\":[\"S\",\"T\",\"Y\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"dme\",\"mass\":28.0313,\"aminoAcids\":[\"R\",\"K\"],\"changed\":false,\"userMod\":false},{\"id\":\"sda-alk\",\"mass\":68.0262,\"aminoAcids\":[\"K\",\"S\",\"T\",\"Y\"],\"changed\":false,\"userMod\":false}],\"ions\":[{\"type\":\"BIon\"},{\"type\":\"YIon\"},{\"type\":\"PeptideIon\"}],\"cross-linker\":{\"modMass\":\"138.06807\"},\"precursorMZ\":623.344647976,\"precursorCharge\":4,\"losses\":[{\"id\":\"H20\",\"specificity\":[\"S\",\"T\",\"D\",\"E\",\"NTerm\",\"CTerm\"],\"mass\":\"18.01056027\"},{\"id\":\"NH3\",\"specificity\":[\"R\",\"K\",\"N\",\"Q\",\"NTerm\",\"CTerm\"],\"mass\":\"17.02654493\"},{\"id\":\"CH3SOH\",\"specificity\":[\"Mox\",\"NTerm\",\"CTerm\"],\"mass\":\"63.99828547\"}],\"requestID\":\"9511220959\",\"custom\":[\"FILTER:MS2PrecursorDetection\",\"normalizerml_defaultsubscorevalue:1\",\"\",\"missing_isotope_peaks:2\",\"FRAGMENTTREE:FU\",\"XICLASS:SimpleXiProcessMultipleCandidates\",\"loss:AminoAcidRestrictedLoss:NAME:H20;aminoacids:S,T,D,E;MASS:18.01056027;cterm\",\"loss:AminoAcidRestrictedLoss:NAME:NH3;aminoacids:R,K,N,Q;MASS:17.02654493;nterm\",\"loss:AminoAcidRestrictedLoss:NAME:CH3SOH;aminoacids:Mox;MASS:63.99828547\",\"FILTER:denoise:window:10000;peaks:1;min:0;max:1.7976931348623157E308\",\"annotator:applyfilter:true\"]}}";
        String responseMsg = target.path("annotate/FULL")
                .request().post(Entity.entity(json, MediaType.APPLICATION_JSON),String.class);
        
        System.out.println(responseMsg);
        assertEquals("{\"error\":\"No Spectra\"}", responseMsg);
    }
}
