package org.rappsilber;

import javax.ws.rs.client.Client;
import javax.ws.rs.client.ClientBuilder;
import javax.ws.rs.client.Entity;
import javax.ws.rs.client.WebTarget;
import javax.ws.rs.core.MediaType;

import org.glassfish.grizzly.http.server.HttpServer;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class xiAnnotatorTestPost {

    private HttpServer server;
    private WebTarget target;

    @Before
    public void setUp() throws Exception {
        // start the server
        server = Main.startServer();
        // create the client
        Client c = ClientBuilder.newClient();

        // uncomment the following line if you want to enable
        // support for JSON in the client (you also have to uncomment
        // dependency on jersey-media-json module in pom.xml and Main.startServer())
        // --
        // c.configuration().enable(new org.glassfish.jersey.media.json.JsonJaxbFeature());

        target = c.target(Main.BASE_URI);
    }

    @After
    public void tearDown() throws Exception {
        server.stop();
    }

    /**
     * Test to see that the message "Got it!" is sent in the response.
     */
    @Test
    public void testGetIt() {
/*        String responseMsg = target.path("annotate/3413/68913-53595-83402-24933/210231825/")
                .queryParam("peptide","TVTAMDVVYALK","TLYGFGG")
                .queryParam("link","4","6")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3421/85160-94827-96653-69142/210313888/") 
                .queryParam("peptide","LVRPEVDVMCcmTAFHDNEETFLKK","YKAAFTECcmCcmQAADK")
                .queryParam("link","21","1")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3421/85160-94827-96653-69142/210312725/") 
                .queryParam("peptide","VHTECcmCcmHGDLLECcmADDRADLAK")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3947/30582-35562-38444-85066/227540102/") 
                .queryParam("peptide","GSSHHHHHHSSGLVPR","XdLFSK")
                .queryParam("link","4","1")
                .queryParam("firstresidue","0")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
*///        http://129.215.14.63/xiAnnotator/annotate/3943/21672-50578-53639-62223/227500098/?peptide=GSSHHHHHHSSGLVPR&peptide=XdLFSK&link=4&link=1
        //String json = "{\"Peptides\":[{\"sequence\":[{\"aminoAcid\":\"K\",\"Modification\":\"\"},{\"aminoAcid\":\"Q\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"Q\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"G\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]},{\"sequence\":[{\"aminoAcid\":\"M\",\"Modification\":\"ox\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]}],\"LinkSite\":[{\"id\":0,\"peptideId\":0,\"linkSite\":11},{\"id\":0,\"peptideId\":1,\"linkSite\":0}],\"peaks\":[{\"mz\":192.96811,\"intensity\":67.73983},{\"mz\":244.1642,\"intensity\":110.8582},{\"mz\":261.15775,\"intensity\":129.5965},{\"mz\":275.59494,\"intensity\":80.46323},{\"mz\":314.6499,\"intensity\":73.12415},{\"mz\":318.53464,\"intensity\":74.77551},{\"mz\":332.19034,\"intensity\":129.8459},{\"mz\":352.76807,\"intensity\":80.8383},{\"mz\":368.19485,\"intensity\":161.2779},{\"mz\":369.15225,\"intensity\":70.75565},{\"mz\":391.24362,\"intensity\":87.39551},{\"mz\":407.71011,\"intensity\":765.3865},{\"mz\":408.21057,\"intensity\":168.6249},{\"mz\":429.08914,\"intensity\":1021.067},{\"mz\":439.22614,\"intensity\":1080.865},{\"mz\":439.72787,\"intensity\":146.117},{\"mz\":446.2355,\"intensity\":1156.349},{\"mz\":447.24475,\"intensity\":107.6111},{\"mz\":473.73792,\"intensity\":582.5543},{\"mz\":474.23178,\"intensity\":151.0379},{\"mz\":479.22253,\"intensity\":89.13316},{\"mz\":482.74237,\"intensity\":1837.839},{\"mz\":483.24542,\"intensity\":517.5132},{\"mz\":485.22946,\"intensity\":160.8755},{\"mz\":494.23871,\"intensity\":117.7743},{\"mz\":504.73248,\"intensity\":104.7452},{\"mz\":514.25714,\"intensity\":168.123},{\"mz\":519.32617,\"intensity\":84.28606},{\"mz\":530.75781,\"intensity\":348.261},{\"mz\":531.25165,\"intensity\":574.6472},{\"mz\":531.75232,\"intensity\":195.0436},{\"mz\":532.28021,\"intensity\":122.7291},{\"mz\":539.76459,\"intensity\":461.346},{\"mz\":540.26691,\"intensity\":216.6365},{\"mz\":542.25702,\"intensity\":383.6699},{\"mz\":542.74811,\"intensity\":144.7962},{\"mz\":551.26862,\"intensity\":138.4185},{\"mz\":556.75995,\"intensity\":131.5791},{\"mz\":557.25281,\"intensity\":154.4313},{\"mz\":565.75897,\"intensity\":124.528},{\"mz\":566.2757,\"intensity\":105.5735},{\"mz\":567.77228,\"intensity\":99.65214},{\"mz\":574.27252,\"intensity\":177.6217},{\"mz\":574.77173,\"intensity\":304.3945},{\"mz\":576.76465,\"intensity\":337.0186},{\"mz\":577.26617,\"intensity\":151.8026},{\"mz\":583.28101,\"intensity\":403.2102},{\"mz\":583.77972,\"intensity\":189.2003},{\"mz\":584.76569,\"intensity\":107.6447},{\"mz\":585.76959,\"intensity\":493.1025},{\"mz\":586.26678,\"intensity\":473.7382},{\"mz\":588.81873,\"intensity\":233.3332},{\"mz\":593.77887,\"intensity\":196.0799},{\"mz\":594.27661,\"intensity\":474.5169},{\"mz\":594.7774,\"intensity\":2625.148},{\"mz\":595.19702,\"intensity\":98.07767},{\"mz\":595.28461,\"intensity\":770.8936},{\"mz\":600.28125,\"intensity\":93.24009},{\"mz\":602.78687,\"intensity\":539.2776},{\"mz\":603.27844,\"intensity\":1425.828},{\"mz\":603.77917,\"intensity\":411.5556},{\"mz\":611.79083,\"intensity\":1100.022},{\"mz\":612.29089,\"intensity\":786.955},{\"mz\":614.30945,\"intensity\":189.8356},{\"mz\":620.92456,\"intensity\":94.50323},{\"mz\":622.67065,\"intensity\":211.5718},{\"mz\":623.00433,\"intensity\":308.2873},{\"mz\":623.32965,\"intensity\":160.2828},{\"mz\":633.36646,\"intensity\":106.8811},{\"mz\":643.30194,\"intensity\":564.7256},{\"mz\":643.97461,\"intensity\":92.41217},{\"mz\":644.30664,\"intensity\":106.7596},{\"mz\":645.85065,\"intensity\":86.88284},{\"mz\":649.98712,\"intensity\":91.16106},{\"mz\":650.3183,\"intensity\":272.1689},{\"mz\":651.32245,\"intensity\":139.994},{\"mz\":655.65698,\"intensity\":146.5744},{\"mz\":658.32581,\"intensity\":139.126},{\"mz\":659.32867,\"intensity\":227.4465},{\"mz\":659.82428,\"intensity\":339.1299},{\"mz\":661.66272,\"intensity\":355.9604},{\"mz\":661.99719,\"intensity\":261.6057},{\"mz\":662.33771,\"intensity\":205.5486},{\"mz\":703.34155,\"intensity\":200.9261},{\"mz\":711.84381,\"intensity\":425.8564},{\"mz\":712.34216,\"intensity\":443.5017},{\"mz\":730.33459,\"intensity\":528.4755},{\"mz\":731.33783,\"intensity\":306.635},{\"mz\":734.41376,\"intensity\":187.7748},{\"mz\":767.39771,\"intensity\":118.5136},{\"mz\":767.85651,\"intensity\":156.7686},{\"mz\":776.3606,\"intensity\":152.4337},{\"mz\":776.87164,\"intensity\":151.6859},{\"mz\":792.875,\"intensity\":214.166},{\"mz\":793.36304,\"intensity\":110.3984},{\"mz\":801.38068,\"intensity\":355.2381},{\"mz\":801.87268,\"intensity\":427.9933},{\"mz\":802.37146,\"intensity\":169.9695},{\"mz\":810.38464,\"intensity\":701.1418},{\"mz\":810.88306,\"intensity\":447.7175},{\"mz\":825.41553,\"intensity\":142.4287},{\"mz\":835.48615,\"intensity\":151.6225},{\"mz\":840.39972,\"intensity\":185.6205},{\"mz\":843.41937,\"intensity\":2103.097},{\"mz\":844.42188,\"intensity\":598.3317},{\"mz\":847.95972,\"intensity\":203.4357},{\"mz\":848.46552,\"intensity\":218.2574},{\"mz\":867.39832,\"intensity\":150.6456},{\"mz\":876.97156,\"intensity\":152.0691},{\"mz\":877.44507,\"intensity\":2751.281},{\"mz\":878.44775,\"intensity\":713.0289},{\"mz\":893.90674,\"intensity\":138.2526},{\"mz\":894.41077,\"intensity\":196.3892},{\"mz\":900.44226,\"intensity\":714.466},{\"mz\":901.44568,\"intensity\":319.9002},{\"mz\":902.92096,\"intensity\":264.5187},{\"mz\":903.41901,\"intensity\":359.6289},{\"mz\":904.91998,\"intensity\":188.0056},{\"mz\":924.98889,\"intensity\":201.2831},{\"mz\":933.49634,\"intensity\":699.1588},{\"mz\":934.00317,\"intensity\":596.2888},{\"mz\":934.4953,\"intensity\":325.0743},{\"mz\":942.42786,\"intensity\":214.3432},{\"mz\":949.50665,\"intensity\":147.7699},{\"mz\":951.43414,\"intensity\":258.3941},{\"mz\":951.92719,\"intensity\":259.7183},{\"mz\":959.93719,\"intensity\":328.4117},{\"mz\":960.44067,\"intensity\":498.7733},{\"mz\":964.47498,\"intensity\":1128.607},{\"mz\":965.47015,\"intensity\":294.6219},{\"mz\":969.44635,\"intensity\":127.3267},{\"mz\":987.47229,\"intensity\":771.5002},{\"mz\":988.47455,\"intensity\":223.6013},{\"mz\":1004.4575,\"intensity\":103.0786},{\"mz\":1061.5206,\"intensity\":167.1585},{\"mz\":1078.5142,\"intensity\":103.0195},{\"mz\":1101.5148,\"intensity\":627.6382},{\"mz\":1102.5326,\"intensity\":281.1112},{\"mz\":1116.5856,\"intensity\":155.2629},{\"mz\":1134.1617,\"intensity\":74.63107},{\"mz\":1134.5724,\"intensity\":287.1478},{\"mz\":1170.5297,\"intensity\":155.2897},{\"mz\":1187.5413,\"intensity\":174.4809},{\"mz\":1188.5481,\"intensity\":456.1581},{\"mz\":1205.5789,\"intensity\":107.7451},{\"mz\":1536.1685,\"intensity\":73.7821},{\"mz\":1563.991,\"intensity\":85.92266},{\"mz\":1625.6926,\"intensity\":75.41674},{\"mz\":1625.9557,\"intensity\":76.29048},{\"mz\":1833.2148,\"intensity\":84.97263},{\"mz\":1916.1755,\"intensity\":82.42414}],\"annotation\":{\"fragmentTolerance\":{\"tolerance\":20,\"unit\":\"ppm\"},\"modifications\":[{\"aminoacid\":\"C\",\"id\":\"cm\",\"mass\":160.030648}],\"ions\":[{\"type\":\"PeptideIon\"},{\"type\":\"BIon\"},{\"type\":\"YIon\"}],\"cross-linker\":{\"modMass\":138.06807961},\"precursorCharge\":3}}";
        String json = "{\"Peptides\":[{\"sequence\":[{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"F\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"T\",\"Modification\":\"\"},{\"aminoAcid\":\"F\",\"Modification\":\"\"},{\"aminoAcid\":\"T\",\"Modification\":\"\"},{\"aminoAcid\":\"F\",\"Modification\":\"\"},{\"aminoAcid\":\"H\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"D\",\"Modification\":\"\"},{\"aminoAcid\":\"I\",\"Modification\":\"\"},{\"aminoAcid\":\"C\",\"Modification\":\"cm\"},{\"aminoAcid\":\"T\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"R\",\"Modification\":\"\"}]}],\"LinkSite\":[{\"id\":0,\"peptideId\":0,\"linkSite\":-2}],\"peaks\":[{\"intensity\":1926.1348876953,\"mz\":101.31361022082},{\"intensity\":1731.9263916016,\"mz\":101.39458839801},{\"intensity\":1587.9587402344,\"mz\":104.00832042806},{\"intensity\":5767.3461914062,\"mz\":104.68616743284},{\"intensity\":2910.2800292969,\"mz\":104.69068402233},{\"intensity\":7609.9438476562,\"mz\":104.70244088789},{\"intensity\":5743.4580078125,\"mz\":104.70669044929},{\"intensity\":5902.990234375,\"mz\":104.71893559479},{\"intensity\":3149.1235351562,\"mz\":104.72301730996},{\"intensity\":3758.1030273438,\"mz\":104.73544556045},{\"intensity\":1819.5754394531,\"mz\":108.2502600828},{\"intensity\":1874.3266601562,\"mz\":118.4289133064},{\"intensity\":2431.013671875,\"mz\":135.78639561551},{\"intensity\":2026.9027099609,\"mz\":151.31566625668},{\"intensity\":4542.2216796875,\"mz\":159.35276941615},{\"intensity\":4302.2114257812,\"mz\":159.35925438417},{\"intensity\":2485.8188476562,\"mz\":197.7133694352},{\"intensity\":3270.6804199219,\"mz\":199.99558989984},{\"intensity\":2829.3181152344,\"mz\":207.20875116901},{\"intensity\":3653.505859375,\"mz\":271.01798314309},{\"intensity\":4430.5146484375,\"mz\":271.22007000548},{\"intensity\":3157.2819824219,\"mz\":271.42853502466},{\"intensity\":7832.6513671875,\"mz\":296.0718407623},{\"intensity\":7574.2182617188,\"mz\":296.09332507989},{\"intensity\":3714.9702148438,\"mz\":296.82897985258},{\"intensity\":4501.7744140625,\"mz\":373.15369657505},{\"intensity\":4150.2709960938,\"mz\":435.21270434372},{\"intensity\":9619.5751953125,\"mz\":444.18750336202},{\"intensity\":5679.3862304688,\"mz\":481.56505852232},{\"intensity\":6093.4370117188,\"mz\":481.90059839728},{\"intensity\":5624.017578125,\"mz\":482.56459808798},{\"intensity\":24968.486328125,\"mz\":496.22938701652},{\"intensity\":7963.41796875,\"mz\":496.73103362539},{\"intensity\":6007.1640625,\"mz\":530.58976884191},{\"intensity\":5215.8515625,\"mz\":531.25962789196},{\"intensity\":3402.0778808594,\"mz\":535.92459345499},{\"intensity\":4825.107421875,\"mz\":545.5919260233},{\"intensity\":10570.66015625,\"mz\":554.60124033025},{\"intensity\":4264.9350585938,\"mz\":554.92747236874},{\"intensity\":3627.8032226562,\"mz\":556.19199535726},{\"intensity\":17798.484375,\"mz\":564.27241810313},{\"intensity\":8487.986328125,\"mz\":564.60640158576},{\"intensity\":3740.623046875,\"mz\":564.93684503879},{\"intensity\":4103.1430664062,\"mz\":565.25386079332},{\"intensity\":3728.0991210938,\"mz\":568.01490077938},{\"intensity\":5119.7895507812,\"mz\":568.29401380315},{\"intensity\":9637.3037109375,\"mz\":569.94256896869},{\"intensity\":8113.15234375,\"mz\":570.27881074607},{\"intensity\":4411.1474609375,\"mz\":572.32525303209},{\"intensity\":9405.1015625,\"mz\":573.23009680585},{\"intensity\":11090.904296875,\"mz\":578.60593693434},{\"intensity\":13192.8671875,\"mz\":578.94108008184},{\"intensity\":4976.8393554688,\"mz\":579.27298837471},{\"intensity\":3878.6262207031,\"mz\":581.78830147826},{\"intensity\":4722.1430664062,\"mz\":582.28286802793},{\"intensity\":3483.8767089844,\"mz\":588.27430709754},{\"intensity\":14623.717773438,\"mz\":599.27525426664},{\"intensity\":11353.7890625,\"mz\":599.77586328062},{\"intensity\":6533.6577148438,\"mz\":600.27226088008},{\"intensity\":6092.6420898438,\"mz\":600.78233031801},{\"intensity\":5104.6025390625,\"mz\":601.53684490359},{\"intensity\":4215.775390625,\"mz\":602.45603190074},{\"intensity\":3880.8732910156,\"mz\":603.95700445279},{\"intensity\":5926.0629882812,\"mz\":607.34322587391},{\"intensity\":12809.075195312,\"mz\":607.67781970647},{\"intensity\":5765.9868164062,\"mz\":608.01601460363},{\"intensity\":10826.772460938,\"mz\":610.28090113021},{\"intensity\":5175.6806640625,\"mz\":610.77461318996},{\"intensity\":5509.8530273438,\"mz\":611.28401124297},{\"intensity\":5733.4130859375,\"mz\":613.29664014277},{\"intensity\":6563.1909179688,\"mz\":613.62873154062},{\"intensity\":33209.91796875,\"mz\":614.28205010751},{\"intensity\":55188.20703125,\"mz\":614.53522325919},{\"intensity\":40586.671875,\"mz\":614.78394085636},{\"intensity\":26813.681640625,\"mz\":615.03699193804},{\"intensity\":16155.581054688,\"mz\":615.29272855943},{\"intensity\":6715.1162109375,\"mz\":616.27942025903},{\"intensity\":5704.4228515625,\"mz\":617.28100449696},{\"intensity\":7045.8940429688,\"mz\":617.79760467916},{\"intensity\":16517.275390625,\"mz\":617.88592231427},{\"intensity\":4009.4460449219,\"mz\":617.93230890908},{\"intensity\":5004.9243164062,\"mz\":617.99248941235},{\"intensity\":22824.84375,\"mz\":618.21972269193},{\"intensity\":5999.228515625,\"mz\":618.29375813864},{\"intensity\":20288.490234375,\"mz\":618.55272961467},{\"intensity\":14394.494140625,\"mz\":618.64141345974},{\"intensity\":10433.188476562,\"mz\":618.79113229799},{\"intensity\":5881.0493164062,\"mz\":618.88732344723},{\"intensity\":16628.03515625,\"mz\":618.97973042689},{\"intensity\":12770.456054688,\"mz\":619.04094852504},{\"intensity\":9686.7001953125,\"mz\":619.29186338196},{\"intensity\":3842.1821289062,\"mz\":619.79833175529},{\"intensity\":5546.427734375,\"mz\":621.29655773266},{\"intensity\":6032.1982421875,\"mz\":621.5366083608},{\"intensity\":4954.0698242188,\"mz\":621.96476883789},{\"intensity\":15205.352539062,\"mz\":622.29875232052},{\"intensity\":15984.10546875,\"mz\":622.54118331339},{\"intensity\":31669.4375,\"mz\":622.79417336009},{\"intensity\":26793.494140625,\"mz\":623.03788608782},{\"intensity\":5124.0698242188,\"mz\":623.2972237738},{\"intensity\":9098.8466796875,\"mz\":624.0398975707},{\"intensity\":6112.1430664062,\"mz\":625.34665677449},{\"intensity\":3844.6157226562,\"mz\":625.69010068106},{\"intensity\":84666.546875,\"mz\":625.7960574292},{\"intensity\":101238.6171875,\"mz\":626.048131951},{\"intensity\":109631.140625,\"mz\":626.29782610806},{\"intensity\":48047.1875,\"mz\":626.54843579002},{\"intensity\":13888.689453125,\"mz\":626.79660407225},{\"intensity\":8165.7993164062,\"mz\":627.30453728542},{\"intensity\":45333.30859375,\"mz\":627.63052518394},{\"intensity\":6644.9248046875,\"mz\":627.80661113924},{\"intensity\":47084.40625,\"mz\":627.96658385634},{\"intensity\":15597.041992188,\"mz\":628.04336587775},{\"intensity\":53745.47265625,\"mz\":628.29000828515},{\"intensity\":18618.37109375,\"mz\":628.54373075176},{\"intensity\":7820.8876953125,\"mz\":628.64004397099},{\"intensity\":18780.51171875,\"mz\":628.78976280924},{\"intensity\":5520.1083984375,\"mz\":629.05856091916},{\"intensity\":5471.708984375,\"mz\":629.2932404679},{\"intensity\":29139.224609375,\"mz\":630.0484264384},{\"intensity\":25540.435546875,\"mz\":630.3049565147},{\"intensity\":37704.91796875,\"mz\":630.55019511726},{\"intensity\":3408.48046875,\"mz\":630.80770175345},{\"intensity\":8050.4262695312,\"mz\":631.00399029148},{\"intensity\":6636.4379882812,\"mz\":631.33791273912},{\"intensity\":4347.90625,\"mz\":631.5061251803},{\"intensity\":5177.7377929688,\"mz\":631.56819776835},{\"intensity\":6796.9213867188,\"mz\":631.94753025091},{\"intensity\":9871.0595703125,\"mz\":632.30391357603},{\"intensity\":12414.095703125,\"mz\":632.48866650036},{\"intensity\":247881.40625,\"mz\":632.54707698883},{\"intensity\":12326.814453125,\"mz\":632.72896126848},{\"intensity\":404519.09375,\"mz\":632.79780874077},{\"intensity\":9807.4755859375,\"mz\":632.96138252247},{\"intensity\":339067.96875,\"mz\":633.04725875786},{\"intensity\":6177.5708007812,\"mz\":633.2086963148},{\"intensity\":174976.125,\"mz\":633.29701394992},{\"intensity\":89552.4296875,\"mz\":633.55024813658},{\"intensity\":20059.44921875,\"mz\":633.79359465435},{\"intensity\":13207.180664062,\"mz\":634.04585228113},{\"intensity\":6771.2397460938,\"mz\":634.79585027721},{\"intensity\":8024.7163085938,\"mz\":635.3026848605},{\"intensity\":3921.4213867188,\"mz\":636.03394511368},{\"intensity\":4223.201171875,\"mz\":636.29261141474},{\"intensity\":19867.353515625,\"mz\":636.53638517746},{\"intensity\":21094.88671875,\"mz\":636.57880449771},{\"intensity\":87107.8203125,\"mz\":636.63239322172},{\"intensity\":6967548.5,\"mz\":637.05432812951},{\"intensity\":9276494,\"mz\":637.30023811699},{\"intensity\":7371836.5,\"mz\":637.54639224445},{\"intensity\":3903236.5,\"mz\":637.79364500178},{\"intensity\":1279612.875,\"mz\":638.04358329882},{\"intensity\":197449.984375,\"mz\":638.29645127553},{\"intensity\":4672.7333984375,\"mz\":639.29296960902},{\"intensity\":11073.171875,\"mz\":639.79748486257},{\"intensity\":10431.698242188,\"mz\":641.92626335438},{\"intensity\":9459.1650390625,\"mz\":642.17516405653},{\"intensity\":3954.7609863281,\"mz\":642.439140402},{\"intensity\":7144.9799804688,\"mz\":646.30943035395},{\"intensity\":18730.19921875,\"mz\":647.29227684898},{\"intensity\":4686.2685546875,\"mz\":648.29080933725},{\"intensity\":37021.0703125,\"mz\":652.31533471694},{\"intensity\":17729.822265625,\"mz\":652.6463885199},{\"intensity\":7033.9267578125,\"mz\":652.98903897156},{\"intensity\":15306.889648438,\"mz\":653.31270754034},{\"intensity\":5151.203125,\"mz\":653.81752796886},{\"intensity\":13024.497070312,\"mz\":661.31116029039},{\"intensity\":11816.703125,\"mz\":661.64630343789},{\"intensity\":7668.0087890625,\"mz\":661.97705206588},{\"intensity\":15675.952148438,\"mz\":674.81551873938},{\"intensity\":10712.022460938,\"mz\":675.32088848283},{\"intensity\":5270.5825195312,\"mz\":677.98219729006},{\"intensity\":5158.4321289062,\"mz\":683.66125926462},{\"intensity\":4673.3779296875,\"mz\":684.31628681133},{\"intensity\":10845.076171875,\"mz\":689.33092185024},{\"intensity\":12271.0078125,\"mz\":689.6619146182},{\"intensity\":6520.7041015625,\"mz\":690.00090297027},{\"intensity\":6544.556640625,\"mz\":692.3082698521},{\"intensity\":9753.13671875,\"mz\":692.81296821063},{\"intensity\":14778.08984375,\"mz\":695.33383549857},{\"intensity\":47510.578125,\"mz\":695.66409584662},{\"intensity\":16745.013671875,\"mz\":695.99496654459},{\"intensity\":5597.421875,\"mz\":696.34713845519},{\"intensity\":8410.7041015625,\"mz\":704.32697553232},{\"intensity\":11044.991210938,\"mz\":704.65821244026},{\"intensity\":11430.483398438,\"mz\":704.99488146259},{\"intensity\":7303.302734375,\"mz\":713.66874744706},{\"intensity\":8797.0673828125,\"mz\":718.99014436165},{\"intensity\":5375.400390625,\"mz\":719.3516546262},{\"intensity\":4319.9697265625,\"mz\":719.67044039553},{\"intensity\":5332.8994140625,\"mz\":720.0130298122},{\"intensity\":6399.40234375,\"mz\":728.00592837786},{\"intensity\":6102.6982421875,\"mz\":728.67584846291},{\"intensity\":6091.8720703125,\"mz\":729.86651910968},{\"intensity\":8562.63671875,\"mz\":739.01395560617},{\"intensity\":6213.830078125,\"mz\":739.34867150872},{\"intensity\":7639.779296875,\"mz\":739.67551389714},{\"intensity\":11345.979492188,\"mz\":748.85163684042},{\"intensity\":8527.470703125,\"mz\":749.3478513349},{\"intensity\":7035.0341796875,\"mz\":751.68201257873},{\"intensity\":6430.9384765625,\"mz\":752.02655511518},{\"intensity\":5119.2451171875,\"mz\":756.69060515331},{\"intensity\":17959.55078125,\"mz\":757.02171999126},{\"intensity\":17051.6796875,\"mz\":757.34801306476},{\"intensity\":10776.411132812,\"mz\":757.69133490134},{\"intensity\":4951.009765625,\"mz\":758.02501320901},{\"intensity\":5997.6611328125,\"mz\":766.68490218004},{\"intensity\":7803.484375,\"mz\":775.36529890879},{\"intensity\":6971.9067382812,\"mz\":775.69720720165},{\"intensity\":5630.544921875,\"mz\":776.02881031955},{\"intensity\":3849.1579589844,\"mz\":782.35984809116},{\"intensity\":8378.666015625,\"mz\":783.87253936191},{\"intensity\":7847.619140625,\"mz\":784.36204000714},{\"intensity\":4642.474609375,\"mz\":800.37505874543},{\"intensity\":5811.2172851562,\"mz\":800.70495288351},{\"intensity\":8480.0185546875,\"mz\":812.37557599768},{\"intensity\":8269.818359375,\"mz\":815.37648350691},{\"intensity\":4729.626953125,\"mz\":834.8884552987},{\"intensity\":8731.046875,\"mz\":843.38611325789},{\"intensity\":12597.0703125,\"mz\":843.71924225061},{\"intensity\":6204.0151367188,\"mz\":844.06036682744},{\"intensity\":6768.2563476562,\"mz\":844.38434057119},{\"intensity\":18505.15234375,\"mz\":849.06169623784},{\"intensity\":20624.056640625,\"mz\":849.39970803002},{\"intensity\":24229.54296875,\"mz\":849.72679455842},{\"intensity\":11033.17578125,\"mz\":850.06346358075},{\"intensity\":4837.0512695312,\"mz\":916.61937705876}],\"annotation\":{\"fragmentTolerance\":{\"tolerance\":15,\"unit\":\"ppm\"},\"modifications\":[{\"id\":\"cm\",\"mass\":57.0215,\"aminoAcids\":[\"*\"],\"changed\":false,\"userMod\":false},{\"id\":\"ox\",\"mass\":15.9949,\"aminoAcids\":[\"*\"],\"changed\":false,\"userMod\":false}],\"ions\":[{\"type\":\"BIon\"},{\"type\":\"YIon\"},{\"type\":\"PeptideIon\"}],\"crosslinker\":{\"modMass\":0},\"precursorMZ\":637.04699003,\"precursorCharge\":4,\"requestID\":\"-1\"}}";
        String responseMsg = target.path("annotate/FULL")
                .request().post(Entity.entity(json, MediaType.APPLICATION_JSON),String.class);
        
        System.out.println(responseMsg);
        assertEquals("{\"error\":\"No Spectra\"}", responseMsg);
    }
}
