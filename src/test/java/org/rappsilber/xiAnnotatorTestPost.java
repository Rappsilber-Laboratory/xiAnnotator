package org.rappsilber;

import javax.ws.rs.client.Client;
import javax.ws.rs.client.ClientBuilder;
import javax.ws.rs.client.Entity;
import javax.ws.rs.client.WebTarget;
import javax.ws.rs.core.MediaType;

import org.glassfish.grizzly.http.server.HttpServer;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class xiAnnotatorTestPost {

    private HttpServer server;
    private WebTarget target;

    @Before
    public void setUp() throws Exception {
        // start the server
        server = Main.startServer();
        // create the client
        Client c = ClientBuilder.newClient();

        // uncomment the following line if you want to enable
        // support for JSON in the client (you also have to uncomment
        // dependency on jersey-media-json module in pom.xml and Main.startServer())
        // --
        // c.configuration().enable(new org.glassfish.jersey.media.json.JsonJaxbFeature());

        target = c.target(Main.BASE_URI);
    }

    @After
    public void tearDown() throws Exception {
        server.stop();
    }

    /**
     * Test to see that the message "Got it!" is sent in the response.
     */
    @Test
    public void testGetIt() {
/*        String responseMsg = target.path("annotate/3413/68913-53595-83402-24933/210231825/")
                .queryParam("peptide","TVTAMDVVYALK","TLYGFGG")
                .queryParam("link","4","6")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3421/85160-94827-96653-69142/210313888/") 
                .queryParam("peptide","LVRPEVDVMCcmTAFHDNEETFLKK","YKAAFTECcmCcmQAADK")
                .queryParam("link","21","1")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3421/85160-94827-96653-69142/210312725/") 
                .queryParam("peptide","VHTECcmCcmHGDLLECcmADDRADLAK")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
        String responseMsg = target.path("annotate/3947/30582-35562-38444-85066/227540102/") 
                .queryParam("peptide","GSSHHHHHHSSGLVPR","XdLFSK")
                .queryParam("link","4","1")
                .queryParam("firstresidue","0")
                .queryParam("custom","fragment:BLikeDoubleFragmentation;ID:4")
                .request().get(String.class);
*///        http://129.215.14.63/xiAnnotator/annotate/3943/21672-50578-53639-62223/227500098/?peptide=GSSHHHHHHSSGLVPR&peptide=XdLFSK&link=4&link=1
        //String json = "{\"Peptides\":[{\"sequence\":[{\"aminoAcid\":\"K\",\"Modification\":\"\"},{\"aminoAcid\":\"Q\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"Q\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"G\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]},{\"sequence\":[{\"aminoAcid\":\"M\",\"Modification\":\"ox\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"A\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]}],\"LinkSite\":[{\"id\":0,\"peptideId\":0,\"linkSite\":11},{\"id\":0,\"peptideId\":1,\"linkSite\":0}],\"peaks\":[{\"mz\":192.96811,\"intensity\":67.73983},{\"mz\":244.1642,\"intensity\":110.8582},{\"mz\":261.15775,\"intensity\":129.5965},{\"mz\":275.59494,\"intensity\":80.46323},{\"mz\":314.6499,\"intensity\":73.12415},{\"mz\":318.53464,\"intensity\":74.77551},{\"mz\":332.19034,\"intensity\":129.8459},{\"mz\":352.76807,\"intensity\":80.8383},{\"mz\":368.19485,\"intensity\":161.2779},{\"mz\":369.15225,\"intensity\":70.75565},{\"mz\":391.24362,\"intensity\":87.39551},{\"mz\":407.71011,\"intensity\":765.3865},{\"mz\":408.21057,\"intensity\":168.6249},{\"mz\":429.08914,\"intensity\":1021.067},{\"mz\":439.22614,\"intensity\":1080.865},{\"mz\":439.72787,\"intensity\":146.117},{\"mz\":446.2355,\"intensity\":1156.349},{\"mz\":447.24475,\"intensity\":107.6111},{\"mz\":473.73792,\"intensity\":582.5543},{\"mz\":474.23178,\"intensity\":151.0379},{\"mz\":479.22253,\"intensity\":89.13316},{\"mz\":482.74237,\"intensity\":1837.839},{\"mz\":483.24542,\"intensity\":517.5132},{\"mz\":485.22946,\"intensity\":160.8755},{\"mz\":494.23871,\"intensity\":117.7743},{\"mz\":504.73248,\"intensity\":104.7452},{\"mz\":514.25714,\"intensity\":168.123},{\"mz\":519.32617,\"intensity\":84.28606},{\"mz\":530.75781,\"intensity\":348.261},{\"mz\":531.25165,\"intensity\":574.6472},{\"mz\":531.75232,\"intensity\":195.0436},{\"mz\":532.28021,\"intensity\":122.7291},{\"mz\":539.76459,\"intensity\":461.346},{\"mz\":540.26691,\"intensity\":216.6365},{\"mz\":542.25702,\"intensity\":383.6699},{\"mz\":542.74811,\"intensity\":144.7962},{\"mz\":551.26862,\"intensity\":138.4185},{\"mz\":556.75995,\"intensity\":131.5791},{\"mz\":557.25281,\"intensity\":154.4313},{\"mz\":565.75897,\"intensity\":124.528},{\"mz\":566.2757,\"intensity\":105.5735},{\"mz\":567.77228,\"intensity\":99.65214},{\"mz\":574.27252,\"intensity\":177.6217},{\"mz\":574.77173,\"intensity\":304.3945},{\"mz\":576.76465,\"intensity\":337.0186},{\"mz\":577.26617,\"intensity\":151.8026},{\"mz\":583.28101,\"intensity\":403.2102},{\"mz\":583.77972,\"intensity\":189.2003},{\"mz\":584.76569,\"intensity\":107.6447},{\"mz\":585.76959,\"intensity\":493.1025},{\"mz\":586.26678,\"intensity\":473.7382},{\"mz\":588.81873,\"intensity\":233.3332},{\"mz\":593.77887,\"intensity\":196.0799},{\"mz\":594.27661,\"intensity\":474.5169},{\"mz\":594.7774,\"intensity\":2625.148},{\"mz\":595.19702,\"intensity\":98.07767},{\"mz\":595.28461,\"intensity\":770.8936},{\"mz\":600.28125,\"intensity\":93.24009},{\"mz\":602.78687,\"intensity\":539.2776},{\"mz\":603.27844,\"intensity\":1425.828},{\"mz\":603.77917,\"intensity\":411.5556},{\"mz\":611.79083,\"intensity\":1100.022},{\"mz\":612.29089,\"intensity\":786.955},{\"mz\":614.30945,\"intensity\":189.8356},{\"mz\":620.92456,\"intensity\":94.50323},{\"mz\":622.67065,\"intensity\":211.5718},{\"mz\":623.00433,\"intensity\":308.2873},{\"mz\":623.32965,\"intensity\":160.2828},{\"mz\":633.36646,\"intensity\":106.8811},{\"mz\":643.30194,\"intensity\":564.7256},{\"mz\":643.97461,\"intensity\":92.41217},{\"mz\":644.30664,\"intensity\":106.7596},{\"mz\":645.85065,\"intensity\":86.88284},{\"mz\":649.98712,\"intensity\":91.16106},{\"mz\":650.3183,\"intensity\":272.1689},{\"mz\":651.32245,\"intensity\":139.994},{\"mz\":655.65698,\"intensity\":146.5744},{\"mz\":658.32581,\"intensity\":139.126},{\"mz\":659.32867,\"intensity\":227.4465},{\"mz\":659.82428,\"intensity\":339.1299},{\"mz\":661.66272,\"intensity\":355.9604},{\"mz\":661.99719,\"intensity\":261.6057},{\"mz\":662.33771,\"intensity\":205.5486},{\"mz\":703.34155,\"intensity\":200.9261},{\"mz\":711.84381,\"intensity\":425.8564},{\"mz\":712.34216,\"intensity\":443.5017},{\"mz\":730.33459,\"intensity\":528.4755},{\"mz\":731.33783,\"intensity\":306.635},{\"mz\":734.41376,\"intensity\":187.7748},{\"mz\":767.39771,\"intensity\":118.5136},{\"mz\":767.85651,\"intensity\":156.7686},{\"mz\":776.3606,\"intensity\":152.4337},{\"mz\":776.87164,\"intensity\":151.6859},{\"mz\":792.875,\"intensity\":214.166},{\"mz\":793.36304,\"intensity\":110.3984},{\"mz\":801.38068,\"intensity\":355.2381},{\"mz\":801.87268,\"intensity\":427.9933},{\"mz\":802.37146,\"intensity\":169.9695},{\"mz\":810.38464,\"intensity\":701.1418},{\"mz\":810.88306,\"intensity\":447.7175},{\"mz\":825.41553,\"intensity\":142.4287},{\"mz\":835.48615,\"intensity\":151.6225},{\"mz\":840.39972,\"intensity\":185.6205},{\"mz\":843.41937,\"intensity\":2103.097},{\"mz\":844.42188,\"intensity\":598.3317},{\"mz\":847.95972,\"intensity\":203.4357},{\"mz\":848.46552,\"intensity\":218.2574},{\"mz\":867.39832,\"intensity\":150.6456},{\"mz\":876.97156,\"intensity\":152.0691},{\"mz\":877.44507,\"intensity\":2751.281},{\"mz\":878.44775,\"intensity\":713.0289},{\"mz\":893.90674,\"intensity\":138.2526},{\"mz\":894.41077,\"intensity\":196.3892},{\"mz\":900.44226,\"intensity\":714.466},{\"mz\":901.44568,\"intensity\":319.9002},{\"mz\":902.92096,\"intensity\":264.5187},{\"mz\":903.41901,\"intensity\":359.6289},{\"mz\":904.91998,\"intensity\":188.0056},{\"mz\":924.98889,\"intensity\":201.2831},{\"mz\":933.49634,\"intensity\":699.1588},{\"mz\":934.00317,\"intensity\":596.2888},{\"mz\":934.4953,\"intensity\":325.0743},{\"mz\":942.42786,\"intensity\":214.3432},{\"mz\":949.50665,\"intensity\":147.7699},{\"mz\":951.43414,\"intensity\":258.3941},{\"mz\":951.92719,\"intensity\":259.7183},{\"mz\":959.93719,\"intensity\":328.4117},{\"mz\":960.44067,\"intensity\":498.7733},{\"mz\":964.47498,\"intensity\":1128.607},{\"mz\":965.47015,\"intensity\":294.6219},{\"mz\":969.44635,\"intensity\":127.3267},{\"mz\":987.47229,\"intensity\":771.5002},{\"mz\":988.47455,\"intensity\":223.6013},{\"mz\":1004.4575,\"intensity\":103.0786},{\"mz\":1061.5206,\"intensity\":167.1585},{\"mz\":1078.5142,\"intensity\":103.0195},{\"mz\":1101.5148,\"intensity\":627.6382},{\"mz\":1102.5326,\"intensity\":281.1112},{\"mz\":1116.5856,\"intensity\":155.2629},{\"mz\":1134.1617,\"intensity\":74.63107},{\"mz\":1134.5724,\"intensity\":287.1478},{\"mz\":1170.5297,\"intensity\":155.2897},{\"mz\":1187.5413,\"intensity\":174.4809},{\"mz\":1188.5481,\"intensity\":456.1581},{\"mz\":1205.5789,\"intensity\":107.7451},{\"mz\":1536.1685,\"intensity\":73.7821},{\"mz\":1563.991,\"intensity\":85.92266},{\"mz\":1625.6926,\"intensity\":75.41674},{\"mz\":1625.9557,\"intensity\":76.29048},{\"mz\":1833.2148,\"intensity\":84.97263},{\"mz\":1916.1755,\"intensity\":82.42414}],\"annotation\":{\"fragmentTolerance\":{\"tolerance\":20,\"unit\":\"ppm\"},\"modifications\":[{\"aminoacid\":\"C\",\"id\":\"cm\",\"mass\":160.030648}],\"ions\":[{\"type\":\"PeptideIon\"},{\"type\":\"BIon\"},{\"type\":\"YIon\"}],\"cross-linker\":{\"modMass\":138.06807961},\"precursorCharge\":3}}";
        String json = "{\"Peptides\":[{\"sequence\":[{\"aminoAcid\":\"D\",\"Modification\":\"\"},{\"aminoAcid\":\"D\",\"Modification\":\"\"},{\"aminoAcid\":\"N\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"},{\"aminoAcid\":\"V\",\"Modification\":\"\"},{\"aminoAcid\":\"E\",\"Modification\":\"\"},{\"aminoAcid\":\"D\",\"Modification\":\"\"},{\"aminoAcid\":\"I\",\"Modification\":\"\"},{\"aminoAcid\":\"W\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"F\",\"Modification\":\"\"},{\"aminoAcid\":\"L\",\"Modification\":\"\"},{\"aminoAcid\":\"S\",\"Modification\":\"\"},{\"aminoAcid\":\"K\",\"Modification\":\"\"}]}],\"LinkSite\":[{\"id\":0,\"peptideId\":0,\"linkSite\":-2}],\"peaks\":[{\"intensity\":11675.099609375,\"mz\":159.09150622193022},{\"intensity\":6253.208984375,\"mz\":170.05996046346084},{\"intensity\":2790.200927734375,\"mz\":178.19902079623404},{\"intensity\":19824.26171875,\"mz\":178.28772021321004},{\"intensity\":2558.551025390625,\"mz\":185.0550142314913},{\"intensity\":9578.2666015625,\"mz\":187.08647959871675},{\"intensity\":4875.93701171875,\"mz\":198.12416302566285},{\"intensity\":7914.95556640625,\"mz\":201.1231432616646},{\"intensity\":3957.7734375,\"mz\":216.13345583185847},{\"intensity\":3373.79296875,\"mz\":218.1254619366893},{\"intensity\":2822.169677734375,\"mz\":226.1187549323953},{\"intensity\":14493.599609375,\"mz\":229.11810137964898},{\"intensity\":12017.810546875,\"mz\":231.06106569432657},{\"intensity\":93230.421875,\"mz\":234.1446559883245},{\"intensity\":4380.361328125,\"mz\":235.10727278160635},{\"intensity\":8881.15625,\"mz\":235.14793748937188},{\"intensity\":2639.81591796875,\"mz\":243.1444348335322},{\"intensity\":2668.73193359375,\"mz\":300.1537000892264},{\"intensity\":3555.540283203125,\"mz\":300.17182754619654},{\"intensity\":3974.399658203125,\"mz\":331.21073359015827},{\"intensity\":5699.0927734375,\"mz\":344.1448267263814},{\"intensity\":4183.03369140625,\"mz\":346.2213971128019},{\"intensity\":23551.33984375,\"mz\":347.22856960840096},{\"intensity\":6101.21533203125,\"mz\":348.19274279950343},{\"intensity\":4314.90625,\"mz\":348.23388053013605},{\"intensity\":5573.4833984375,\"mz\":351.15740598943967},{\"intensity\":2901.89990234375,\"mz\":366.6880589722085},{\"intensity\":32401.912109375,\"mz\":375.19096544256854},{\"intensity\":17737.86328125,\"mz\":375.69413970270966},{\"intensity\":6038.56396484375,\"mz\":376.1956049770085},{\"intensity\":70251.3671875,\"mz\":384.20791044021007},{\"intensity\":26810.60546875,\"mz\":384.70961985534353},{\"intensity\":6528.169921875,\"mz\":385.2115123761029},{\"intensity\":4404.697265625,\"mz\":403.17435738851304},{\"intensity\":20525.080078125,\"mz\":408.6722869136211},{\"intensity\":7041.31787109375,\"mz\":409.1733554590637},{\"intensity\":4055.364501953125,\"mz\":438.1643471470678},{\"intensity\":8608.3720703125,\"mz\":440.74985962084725},{\"intensity\":5389.30859375,\"mz\":441.251508000772},{\"intensity\":6288.68896484375,\"mz\":442.21018802309567},{\"intensity\":4911.31298828125,\"mz\":442.70942551227864},{\"intensity\":3543.96142578125,\"mz\":447.69768052752397},{\"intensity\":65810.421875,\"mz\":451.21690962328773},{\"intensity\":32000.662109375,\"mz\":451.7188021440471},{\"intensity\":14502.9990234375,\"mz\":452.2195349958421},{\"intensity\":10132.53125,\"mz\":456.20775863490087},{\"intensity\":24915.08203125,\"mz\":456.702906765104},{\"intensity\":8627.8017578125,\"mz\":457.2036701345033},{\"intensity\":4710.24365234375,\"mz\":457.2338215275782},{\"intensity\":3178.6494140625,\"mz\":457.7057152432843},{\"intensity\":149777.921875,\"mz\":465.21423609425824},{\"intensity\":78521.9375,\"mz\":465.7156403333484},{\"intensity\":30674.37890625,\"mz\":466.21676991399966},{\"intensity\":3838.20166015625,\"mz\":466.7187845051763},{\"intensity\":14660.08984375,\"mz\":473.19852639668784},{\"intensity\":19576.896484375,\"mz\":473.72739647967217},{\"intensity\":4310.35546875,\"mz\":474.23069281023055},{\"intensity\":49744.765625,\"mz\":494.29702473607756},{\"intensity\":18531.67578125,\"mz\":495.3003825311357},{\"intensity\":3297.291748046875,\"mz\":535.2491778167604},{\"intensity\":3851.108154296875,\"mz\":535.7494834220948},{\"intensity\":6170.5791015625,\"mz\":540.7359989338935},{\"intensity\":12014.4111328125,\"mz\":544.2563876986217},{\"intensity\":5283.53857421875,\"mz\":544.753702578732},{\"intensity\":7694.37451171875,\"mz\":545.2809247110827},{\"intensity\":7214.2431640625,\"mz\":549.2491898369117},{\"intensity\":10997.8388671875,\"mz\":549.7432698509634},{\"intensity\":5008.8603515625,\"mz\":550.2413781887863},{\"intensity\":10067.64453125,\"mz\":550.9448089685202},{\"intensity\":9663.0478515625,\"mz\":551.2839205878001},{\"intensity\":11852.193359375,\"mz\":551.6155248764157},{\"intensity\":5401.14404296875,\"mz\":551.9504861015072},{\"intensity\":6635.6240234375,\"mz\":553.936876967142},{\"intensity\":10534.9541015625,\"mz\":554.2731199316152},{\"intensity\":8999.37890625,\"mz\":554.6072266637856},{\"intensity\":4228.5751953125,\"mz\":557.7509671559117},{\"intensity\":2885.968505859375,\"mz\":557.8207303994029},{\"intensity\":53840.27734375,\"mz\":558.2543855568874},{\"intensity\":5920.552734375,\"mz\":558.3095613855104},{\"intensity\":40763.1484375,\"mz\":558.7552404790997},{\"intensity\":15181.0869140625,\"mz\":559.2574381759024},{\"intensity\":79543.421875,\"mz\":559.9426194282488},{\"intensity\":6656.16064453125,\"mz\":560.228630416},{\"intensity\":82816.0859375,\"mz\":560.2769703012538},{\"intensity\":62966.8046875,\"mz\":560.6111991038414},{\"intensity\":24712.900390625,\"mz\":560.9448785895512},{\"intensity\":5636.17041015625,\"mz\":563.3190261357629},{\"intensity\":2854.202392578125,\"mz\":564.3151207409912},{\"intensity\":180771.140625,\"mz\":565.6099216573709},{\"intensity\":1634202.5,\"mz\":565.9456153049663},{\"intensity\":1485105.375,\"mz\":566.2800882483886},{\"intensity\":1035120.8125,\"mz\":566.6141949805589},{\"intensity\":456620.9375,\"mz\":566.8270247531343},{\"intensity\":329362.0625,\"mz\":566.9482406775206},{\"intensity\":3073.46923828125,\"mz\":567.0947862134981},{\"intensity\":4477.265625,\"mz\":567.2861926278362},{\"intensity\":11592.517578125,\"mz\":567.3291614147283},{\"intensity\":8580.9423828125,\"mz\":572.2658721962656},{\"intensity\":8206.6318359375,\"mz\":576.2791202708725},{\"intensity\":150199.53125,\"mz\":581.329112399671},{\"intensity\":48515.3671875,\"mz\":582.3324701947292},{\"intensity\":10372.859375,\"mz\":583.3358279897874},{\"intensity\":3467.156005859375,\"mz\":585.3239278412644},{\"intensity\":6216.18408203125,\"mz\":586.2822416523361},{\"intensity\":3122.4931640625,\"mz\":593.2592984239581},{\"intensity\":28499.01953125,\"mz\":601.7696206721695},{\"intensity\":28440.951171875,\"mz\":602.2711469816769},{\"intensity\":8954.751953125,\"mz\":602.7724291503498},{\"intensity\":3739.811279296875,\"mz\":603.2775565371678},{\"intensity\":20126.337890625,\"mz\":637.3426492613887},{\"intensity\":9136.0556640625,\"mz\":638.3452135987344},{\"intensity\":5210.89111328125,\"mz\":643.3093291889572},{\"intensity\":7666.08544921875,\"mz\":661.8115423402402},{\"intensity\":6198.3623046875,\"mz\":662.3119700159918},{\"intensity\":5120.47021484375,\"mz\":666.2968367185747},{\"intensity\":3271.62939453125,\"mz\":668.3505494193544},{\"intensity\":4267.63623046875,\"mz\":674.323027691745},{\"intensity\":9506.9697265625,\"mz\":675.3060607623215},{\"intensity\":3561.915283203125,\"mz\":676.3683175337305},{\"intensity\":5005.53076171875,\"mz\":676.8653882730063},{\"intensity\":19154.55859375,\"mz\":701.3095620923528},{\"intensity\":8855.5546875,\"mz\":702.3139574859582},{\"intensity\":7482.69482421875,\"mz\":718.3516299470133},{\"intensity\":9409.0751953125,\"mz\":718.8537055733987},{\"intensity\":6542.94384765625,\"mz\":722.8427837053786},{\"intensity\":3976.60693359375,\"mz\":723.3355209448399},{\"intensity\":4956.1123046875,\"mz\":723.8364979374695},{\"intensity\":38869.3671875,\"mz\":731.8457821578428},{\"intensity\":45814.85546875,\"mz\":732.3474915729762},{\"intensity\":16654.208984375,\"mz\":732.8511541147865},{\"intensity\":4339.8916015625,\"mz\":733.3545725157622},{\"intensity\":6697.83349609375,\"mz\":733.3936350493007},{\"intensity\":7980.82373046875,\"mz\":733.8872878168918},{\"intensity\":16713.212890625,\"mz\":749.3866907728299},{\"intensity\":9586.5224609375,\"mz\":750.3855929976563},{\"intensity\":4147.8955078125,\"mz\":754.8818126783399},{\"intensity\":5440.63037109375,\"mz\":755.3512955033042},{\"intensity\":5844.58837890625,\"mz\":761.3761419847197},{\"intensity\":8984.1337890625,\"mz\":761.8789500336088},{\"intensity\":3451.504150390625,\"mz\":766.3585071023299},{\"intensity\":5024.28564453125,\"mz\":766.85991134142},{\"intensity\":163401.109375,\"mz\":767.4085568320081},{\"intensity\":3844.470458984375,\"mz\":768.330371588305},{\"intensity\":81418.6640625,\"mz\":768.4113653101884},{\"intensity\":18870.6953125,\"mz\":769.413258260239},{\"intensity\":3498.518310546875,\"mz\":774.3758479702454},{\"intensity\":12873.462890625,\"mz\":774.8774963501702},{\"intensity\":31594.62109375,\"mz\":775.3655949137739},{\"intensity\":22624.62109375,\"mz\":775.8667550120294},{\"intensity\":12158.5654296875,\"mz\":776.366145089234},{\"intensity\":163472.84375,\"mz\":783.381959218351},{\"intensity\":144564.1875,\"mz\":783.8828751757719},{\"intensity\":84988.0390625,\"mz\":784.3847066613226},{\"intensity\":27791.580078125,\"mz\":784.8856226187435},{\"intensity\":5011.04052734375,\"mz\":798.3241107192807},{\"intensity\":93531.765625,\"mz\":816.3365773563264},{\"intensity\":39613.11328125,\"mz\":817.3391416936721},{\"intensity\":16376.9326171875,\"mz\":818.3417670662265},{\"intensity\":4267.85595703125,\"mz\":880.4899527497276},{\"intensity\":7905.24951171875,\"mz\":901.4205737477154},{\"intensity\":7374.16357421875,\"mz\":911.4089246086849},{\"intensity\":7118.10009765625,\"mz\":912.4050192139133},{\"intensity\":87121.578125,\"mz\":929.4206588232266},{\"intensity\":45463.07421875,\"mz\":930.4234062661983},{\"intensity\":15548.837890625,\"mz\":931.4255433570834},{\"intensity\":20781.37890625,\"mz\":946.4467354532197},{\"intensity\":9823.986328125,\"mz\":947.4516191284943},{\"intensity\":6177.73828125,\"mz\":948.4494227195651},{\"intensity\":4701.63134765625,\"mz\":995.5156862743194},{\"intensity\":4898.37060546875,\"mz\":996.5227061818969},{\"intensity\":3089.47314453125,\"mz\":1095.0808962708854},{\"intensity\":3253.548828125,\"mz\":1670.4102476598975}],\"annotation\":{\"fragmentTolerance\":{\"tolerance\":15,\"unit\":\"ppm\"},\"modifications\":[{\"id\":\"cm\",\"mass\":57.021464,\"aminoAcids\":[\"*\"],\"changed\":false,\"userMod\":false},{\"id\":\"ox\",\"mass\":15.99491,\"aminoAcids\":[\"*\"],\"changed\":false,\"userMod\":false}],\"ions\":[{\"type\":\"AIon\"},{\"type\":\"BIon\"},{\"type\":\"CIon\"},{\"type\":\"XIon\"},{\"type\":\"YIon\"},{\"type\":\"ZIon\"},{\"type\":\"PeptideIon\"}],\"crosslinker\":{\"modMass\":0},\"precursorMZ\":565.94577622057,\"precursorCharge\":3,\"requestID\":\"-1\",\"custom\":[\"TransferLossToBase:True\",\"loss:AminoAcidRestrictedLoss:NAME:H;aminoacids:Y;MASS:1.007825035;cterm;ID:1\"]}}";
        String responseMsg = target.path("annotate/FULL")
                .request().post(Entity.entity(json, MediaType.APPLICATION_JSON),String.class);
        
        System.out.println(responseMsg);
        assertEquals("{\"error\":\"No Spectra\"}", responseMsg);
    }
}
